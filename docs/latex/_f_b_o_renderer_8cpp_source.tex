\hypertarget{_f_b_o_renderer_8cpp_source}{}\doxysection{F\+B\+O\+Renderer.\+cpp}
\label{_f_b_o_renderer_8cpp_source}\index{Source/FBORenderer.cpp@{Source/FBORenderer.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_f_b_o_renderer_8hpp}{"FBORenderer.hpp"}}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{GL}\textcolor{preprocessor}{/}\textcolor{preprocessor}{glew}\textcolor{preprocessor}{.}\textcolor{preprocessor}{h}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{glm}\textcolor{preprocessor}{/}\textcolor{preprocessor}{gtc}\textcolor{preprocessor}{/}\textcolor{preprocessor}{type\_ptr}\textcolor{preprocessor}{.}\textcolor{preprocessor}{hpp}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_g_l_context_manager_8hpp}{"GLContextManager.hpp"}}}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_b_a_r_e_errors_8hpp}{"BAREErrors.hpp"}}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_vertex_8hpp}{"Vertex.hpp"}}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}}}
\DoxyCodeLine{00012 \{}
\DoxyCodeLine{00013 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00014}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a97d2c3b426dd8f3c79a4d3c5ee707788}{00014}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a97d2c3b426dd8f3c79a4d3c5ee707788}{FBORenderer}}(std::string\& fragShader,}
\DoxyCodeLine{00015                              std::string\& vertShader,}
\DoxyCodeLine{00016                              \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} windowWidth,}
\DoxyCodeLine{00017                              \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} windowHeight,}
\DoxyCodeLine{00018                              glm::vec2 size,}
\DoxyCodeLine{00019                              \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} numColourAttachments)}
\DoxyCodeLine{00020         : \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a3ca9f890aa6cd904a6ba201a219ccb5e}{m\_fragmentShaderPath}}(fragShader)}
\DoxyCodeLine{00021         , \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac4b73ba3b179c0cf854d36b77d535b8a}{m\_vertexShaderPath}}(vertShader)}
\DoxyCodeLine{00022         , \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}}(size)}
\DoxyCodeLine{00023     \{}
\DoxyCodeLine{00024         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}} = std::make\_unique<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}>();}
\DoxyCodeLine{00025         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a7dc4acd9d8d0cc2e7b7d956528fd488f}{init}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a7dc4acd9d8d0cc2e7b7d956528fd488f}{(}}windowWidth\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a7dc4acd9d8d0cc2e7b7d956528fd488f}{,}} windowHeight\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a7dc4acd9d8d0cc2e7b7d956528fd488f}{)}};}
\DoxyCodeLine{00026         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a4a2d87a57c0f696b5d5398cc0e55f9b6}{offsetPosition}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a4a2d87a57c0f696b5d5398cc0e55f9b6}{(}}glm::vec2(-\/1.0f, -\/1.0f)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a4a2d87a57c0f696b5d5398cc0e55f9b6}{)}};}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} = numColourAttachments + 1; \textcolor{comment}{// n colour attachments, one depth/stencil attachment}}
\DoxyCodeLine{00029     \}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00031}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aeb5ab1b6abc77d9ec3943d1966574d1b}{00031}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\string~\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aeb5ab1b6abc77d9ec3943d1966574d1b}{FBORenderer}}()}
\DoxyCodeLine{00032     \{}
\DoxyCodeLine{00033         \textcolor{keyword}{delete}[] \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}};}
\DoxyCodeLine{00034     \}}
\DoxyCodeLine{00035 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00036}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ae64dbdf46c5bf05c7c976303a072f08c}{00036}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ae64dbdf46c5bf05c7c976303a072f08c}{setCamera}}(std::shared\_ptr<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}>\& cam)}
\DoxyCodeLine{00037     \{}
\DoxyCodeLine{00038         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}} = cam;}
\DoxyCodeLine{00039     \}}
\DoxyCodeLine{00040 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00041}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_abcccb35e9cdf13c41ba6b11edf1a286e}{00041}}     std::shared\_ptr<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}> \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_abcccb35e9cdf13c41ba6b11edf1a286e}{getCamera}}()}
\DoxyCodeLine{00042     \{}
\DoxyCodeLine{00043         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}};}
\DoxyCodeLine{00044     \}}
\DoxyCodeLine{00045 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00046}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac1902310c37a001b0f6d53b7d6066867}{00046}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac1902310c37a001b0f6d53b7d6066867}{init}}()}
\DoxyCodeLine{00047     \{}
\DoxyCodeLine{00048         \textcolor{comment}{// Actually initialize our shader}}
\DoxyCodeLine{00049         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{compileShaders}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac4b73ba3b179c0cf854d36b77d535b8a}{m\_vertexShaderPath}}.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a3ca9f890aa6cd904a6ba201a219ccb5e}{m\_fragmentShaderPath}}.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{)}};}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a096bc5e267753d6054aa8039e4cc44a9}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a096bc5e267753d6054aa8039e4cc44a9}{linkShaders}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a096bc5e267753d6054aa8039e4cc44a9}{(}}\{ \textcolor{stringliteral}{"vertexPosition"}, \textcolor{stringliteral}{"vertexColour"}, \textcolor{stringliteral}{"vertexUV"} \}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a096bc5e267753d6054aa8039e4cc44a9}{)}};}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer}{Renderer}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_addafa95f7a6f451e359d1300031bdde1}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_addafa95f7a6f451e359d1300031bdde1}{init}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_addafa95f7a6f451e359d1300031bdde1}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_addafa95f7a6f451e359d1300031bdde1}{)}}; \textcolor{comment}{// Initializes the VAO, so we can add attributes}}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{addVertexAttribute}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{(}}3\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} GL\_FLOAT\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} GL\_FALSE\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}})\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} (\textcolor{keywordtype}{void}*)offsetof(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex_a46e6fc6c1a765771603aa8be0d595987}{position}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{)}};}
\DoxyCodeLine{00056         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{addVertexAttribute}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{(}}}
\DoxyCodeLine{00057             4\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} GL\_UNSIGNED\_BYTE\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} GL\_TRUE\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}})\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} (\textcolor{keywordtype}{void}*)offsetof(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex_aa128db672c15a3c94fc04b01ab0b1397}{colour}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{)}};}
\DoxyCodeLine{00058         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{addVertexAttribute}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{(}}2\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} GL\_FLOAT\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} GL\_FALSE\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}})\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{,}} (\textcolor{keywordtype}{void}*)offsetof(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex_a1b1d6f4db74e0287a41e64029f6ff5d9}{uv}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a96ee05539c58614ee273b7df85143804}{)}};}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060         \textcolor{comment}{// Create the actual textures and FBO}}
\DoxyCodeLine{00061         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_af0312bfcb60be2285bb443a79ae9678f}{createFBO}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_af0312bfcb60be2285bb443a79ae9678f}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_af0312bfcb60be2285bb443a79ae9678f}{)}};}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{use}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{)}};}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad27e4c76b6f82a74b967464560254a87}{initUniforms}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad27e4c76b6f82a74b967464560254a87}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad27e4c76b6f82a74b967464560254a87}{)}};}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{unuse}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{)}};}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{bind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{)}};}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071         \textcolor{comment}{// This call specifies which buffers should be drawn to -\/ in our case, it's just the colour attachment for the FBO}}
\DoxyCodeLine{00072         \textcolor{comment}{// This essentially means that the output from the fragment shader goes directly into the FBO's attached colour}}
\DoxyCodeLine{00073         \textcolor{comment}{// texture! Please note that the Framebuffer object actually stores a lot of state information, such as draw}}
\DoxyCodeLine{00074         \textcolor{comment}{// buffers. That's why this is in the init. Here we just generate all the colour attachments from 0 to}}
\DoxyCodeLine{00075         \textcolor{comment}{// (m\_numColourAttachments-\/1).}}
\DoxyCodeLine{00076         std::vector<GLenum> m\_colourAttachments;}
\DoxyCodeLine{00077         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1;}
\DoxyCodeLine{00078                 i++)   \textcolor{comment}{// Remember that the number of colour attachments will always be number of textures -\/ 1}}
\DoxyCodeLine{00079         \{}
\DoxyCodeLine{00080             m\_colourAttachments.push\_back(GL\_COLOR\_ATTACHMENT0 + i);}
\DoxyCodeLine{00081         \}}
\DoxyCodeLine{00082         glDrawBuffers(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1, m\_colourAttachments.data());}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{unbind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{)}};}
\DoxyCodeLine{00085     \}}
\DoxyCodeLine{00086 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00087}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad27e4c76b6f82a74b967464560254a87}{00087}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad27e4c76b6f82a74b967464560254a87}{initUniforms}}()}
\DoxyCodeLine{00088     \{}
\DoxyCodeLine{00089         \textcolor{comment}{// Now, for convenience, set the uniforms of the FBO shader program}}
\DoxyCodeLine{00090         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1; i++)}
\DoxyCodeLine{00091         \{}
\DoxyCodeLine{00092             GLint colourTexture = i;}
\DoxyCodeLine{00093             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{setUniform}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{(}}\textcolor{stringliteral}{"colourTexture"} + std::to\_string(i)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{,}} \&colourTexture\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{)}};}
\DoxyCodeLine{00094         \}}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a8cb0768b5c42501e8e3299d45e917114}{m\_shaderHasDepth}} = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_af711102689d9552b2b54c1c9da8f8589}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_af711102689d9552b2b54c1c9da8f8589}{doesUniformExist}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_af711102689d9552b2b54c1c9da8f8589}{(}}\textcolor{stringliteral}{"depthTexture"}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_af711102689d9552b2b54c1c9da8f8589}{)}};}
\DoxyCodeLine{00097         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a8cb0768b5c42501e8e3299d45e917114}{m\_shaderHasDepth}})}
\DoxyCodeLine{00098         \{}
\DoxyCodeLine{00099             GLint depthTexture = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1;}
\DoxyCodeLine{00100             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{setUniform}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{(}}\textcolor{stringliteral}{"depthTexture"}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{,}} \&depthTexture\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{)}};}
\DoxyCodeLine{00101         \}}
\DoxyCodeLine{00102     \}}
\DoxyCodeLine{00103 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00104}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a0e3cc5707a16360dbaf0832058f28b1a}{00104}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a0e3cc5707a16360dbaf0832058f28b1a}{destroy}}()}
\DoxyCodeLine{00105     \{}
\DoxyCodeLine{00106         glDeleteFramebuffers(1, \&\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}});}
\DoxyCodeLine{00107         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}} = 0;}
\DoxyCodeLine{00108         glDeleteTextures(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}}, \&\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[0]);}
\DoxyCodeLine{00109         \textcolor{keyword}{delete}[] \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}};}
\DoxyCodeLine{00110         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}} = \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer}{Renderer}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a62d8bb52afdd8a38f96fe89677e03f53}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a62d8bb52afdd8a38f96fe89677e03f53}{destroy}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a62d8bb52afdd8a38f96fe89677e03f53}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a62d8bb52afdd8a38f96fe89677e03f53}{)}};}
\DoxyCodeLine{00113     \}}
\DoxyCodeLine{00114 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00115}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5e94ee6c2c34dcdcbd65c9b05f3a465a}{00115}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5e94ee6c2c34dcdcbd65c9b05f3a465a}{begin}}()}
\DoxyCodeLine{00116     \{}
\DoxyCodeLine{00117         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer}{Renderer}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a7b894142f30465231e74903f366cd70a}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a7b894142f30465231e74903f366cd70a}{begin}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a7b894142f30465231e74903f366cd70a}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a7b894142f30465231e74903f366cd70a}{)}};}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119         \textcolor{comment}{// This begin function actually should bind the FBO and set the necessary settings}}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121         \textcolor{comment}{// First, obviously bind the FBO \& attached textures.}}
\DoxyCodeLine{00122         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{bind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{)}};}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124         \textcolor{comment}{// Make sure that we clear the actual buffer objects}}
\DoxyCodeLine{00125         glClearDepth(1.0f);}
\DoxyCodeLine{00126         glClear(GL\_COLOR\_BUFFER\_BIT | GL\_DEPTH\_BUFFER\_BIT | GL\_STENCIL\_BUFFER\_BIT);}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128         \textcolor{comment}{// Enable writing to the depth attachment}}
\DoxyCodeLine{00129         glEnable(GL\_DEPTH\_TEST);}
\DoxyCodeLine{00130         \textcolor{comment}{// Set a normalized depth variable}}
\DoxyCodeLine{00131         glDepthMask(GL\_TRUE);}
\DoxyCodeLine{00132         \textcolor{comment}{// Set it so that closer depths are smaller numbers (0.0 appears in front of 0.5 which appears in front of 1.0, etc)}}
\DoxyCodeLine{00133         glDepthFunc(GL\_LESS);}
\DoxyCodeLine{00134 }
\DoxyCodeLine{00135         \textcolor{comment}{// Make sure that we blend the alpha channels on each texture}}
\DoxyCodeLine{00136         glEnable(GL\_BLEND);}
\DoxyCodeLine{00137         \textcolor{comment}{// Blend pretty normally for transparency stuff (according to the docs for glBlendFunc, this is the best}}
\DoxyCodeLine{00138         \textcolor{comment}{// transparency blending config)}}
\DoxyCodeLine{00139         glBlendFunc(GL\_SRC\_ALPHA, GL\_ONE\_MINUS\_SRC\_ALPHA);}
\DoxyCodeLine{00140 }
\DoxyCodeLine{00141         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{use}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{)}};}
\DoxyCodeLine{00142 }
\DoxyCodeLine{00143         \textcolor{comment}{// Now we will not unbind until the end() call, after all the draw calls that actually populate the FBO's textures'}}
\DoxyCodeLine{00144         \textcolor{comment}{// data.}}
\DoxyCodeLine{00145     \}}
\DoxyCodeLine{00146 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00147}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a4dde75642694aa34aa463bb298cb34cd}{00147}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a4dde75642694aa34aa463bb298cb34cd}{end}}()}
\DoxyCodeLine{00148     \{}
\DoxyCodeLine{00149         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{unuse}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{)}};}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151         \textcolor{comment}{// All we need to do is unbind the FBO and associated textures.}}
\DoxyCodeLine{00152         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{unbind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{)}};}
\DoxyCodeLine{00153     \}}
\DoxyCodeLine{00154 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00155}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a6a0113b8f8806828e460e41bd7697b6c}{00155}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a6a0113b8f8806828e460e41bd7697b6c}{preRender}}()}
\DoxyCodeLine{00156     \{}
\DoxyCodeLine{00157         \textcolor{comment}{// Make sure that the FBO is written as a single texture, essentially -\/ not depth-\/tested by parts.}}
\DoxyCodeLine{00158         glDisable(GL\_DEPTH\_TEST);}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160         \textcolor{comment}{// Pre-\/render is going to be pretty bare, as our shader just needs to be called for the uploading of texture data}}
\DoxyCodeLine{00161         \textcolor{comment}{// (in createRenderBatches()), and the only uniforms used are constants.}}
\DoxyCodeLine{00162         \textcolor{comment}{// glm::mat4 matrix = m\_camera-\/>getCameraMatrix();}}
\DoxyCodeLine{00163         \textcolor{comment}{// m\_shader.setUniformMatrix("projectionMatrix", GL\_FALSE, matrix);}}
\DoxyCodeLine{00164         \textcolor{comment}{/// The camera should only be used to actually draw the FBO.}}
\DoxyCodeLine{00165 }
\DoxyCodeLine{00166         \textcolor{comment}{// Set GL\_TEXTURE's}}
\DoxyCodeLine{00167         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}* context = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}};}
\DoxyCodeLine{00168         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1; i >= 0; i-\/-\/)}
\DoxyCodeLine{00169         \{}
\DoxyCodeLine{00170             context\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE0 + i\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00171             context\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[i]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00172         \}}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{update}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{)}};}
\DoxyCodeLine{00175     \}}
\DoxyCodeLine{00176 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00177}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aa6da4902046ce59bb009570f12f0aaaa}{00177}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aa6da4902046ce59bb009570f12f0aaaa}{createRenderBatches}}()}
\DoxyCodeLine{00178     \{}
\DoxyCodeLine{00179         \textcolor{comment}{// We need to now create the "renderbatches", which in our case are just going to be two triangles (for a}}
\DoxyCodeLine{00180         \textcolor{comment}{// full-\/screen quad) Easiest way to do this is just to create a glyph, then follow how BasicRenderer did it! Why}}
\DoxyCodeLine{00181         \textcolor{comment}{// re-\/invent the wheel?}}
\DoxyCodeLine{00182         glm::vec2 position = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aedfa05d39dcb04a580aa17f852f23b62}{getPosition}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aedfa05d39dcb04a580aa17f852f23b62}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aedfa05d39dcb04a580aa17f852f23b62}{)}};}
\DoxyCodeLine{00183         glm::vec2 size = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{getScreenSizeFromViewedSize}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{)}};}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185         glm::vec4 destRect(position.x, position.y, size.x, size.y);}
\DoxyCodeLine{00186         glm::vec4 uvRect(0.0f, 0.0f, 1.0f, 1.0f);}
\DoxyCodeLine{00187         \textcolor{keywordtype}{float} depth = 0.0f;}
\DoxyCodeLine{00188         \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour}{Colour}} col = \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour}{Colour}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour_a6d871c5c62b8e189b8ea4f918ae07ef6}{(}}255\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour_a6d871c5c62b8e189b8ea4f918ae07ef6}{,}} 255\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour_a6d871c5c62b8e189b8ea4f918ae07ef6}{,}} 255\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour_a6d871c5c62b8e189b8ea4f918ae07ef6}{,}} 255\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour_a6d871c5c62b8e189b8ea4f918ae07ef6}{)}};}
\DoxyCodeLine{00189         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph}{Glyph}} fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a082649e9c11e7dcb7efb885905a0ecfa}{(}}destRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a082649e9c11e7dcb7efb885905a0ecfa}{,}} uvRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a082649e9c11e7dcb7efb885905a0ecfa}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a082649e9c11e7dcb7efb885905a0ecfa}{,}} depth\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a082649e9c11e7dcb7efb885905a0ecfa}{,}} col\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a082649e9c11e7dcb7efb885905a0ecfa}{)}};}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191         \textcolor{comment}{// Our collection of 6 vertices (for a square)}}
\DoxyCodeLine{00192         std::vector<\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}> vertices;}
\DoxyCodeLine{00193         vertices.resize(6);}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195         \textcolor{comment}{// Actually add the texture to the render batches}}
\DoxyCodeLine{00196         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}.emplace\_back(0, 6, fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{texture}});}
\DoxyCodeLine{00197 }
\DoxyCodeLine{00198         \textcolor{comment}{// Set up the vertices}}
\DoxyCodeLine{00199         vertices[0] = fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{topLeft}};}
\DoxyCodeLine{00200         vertices[1] = fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a5e7961252c16c09e88bee4943845b2e8}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a5e7961252c16c09e88bee4943845b2e8}{bottomLeft}};}
\DoxyCodeLine{00201         vertices[2] = fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{bottomRight}};}
\DoxyCodeLine{00202         vertices[3] = fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{bottomRight}};}
\DoxyCodeLine{00203         vertices[4] = fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a56fcbbb338feba45291f14dbdd8c5468}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a56fcbbb338feba45291f14dbdd8c5468}{topRight}};}
\DoxyCodeLine{00204         vertices[5] = fullscreen\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{topLeft}};}
\DoxyCodeLine{00205 }
\DoxyCodeLine{00206         \textcolor{comment}{// Bind the VBO}}
\DoxyCodeLine{00207         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{bindVBO}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{)}};}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209         \textcolor{comment}{// Upload the data to the VBO}}
\DoxyCodeLine{00210         glBufferData(GL\_ARRAY\_BUFFER, vertices.size() * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}), vertices.data(), GL\_DYNAMIC\_DRAW);}
\DoxyCodeLine{00211 }
\DoxyCodeLine{00212         \textcolor{comment}{// Unbind the VBO once again}}
\DoxyCodeLine{00213         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{unbindVBO}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{)}};}
\DoxyCodeLine{00214     \}}
\DoxyCodeLine{00215 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00216}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aaccc7bddd25f99cca5b734d097383c6e}{00216}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aaccc7bddd25f99cca5b734d097383c6e}{render}}()}
\DoxyCodeLine{00217     \{}
\DoxyCodeLine{00218         \textcolor{comment}{// Ensure that we're actually using the shader for the glDrawArrays call!}}
\DoxyCodeLine{00219         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{use}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{)}};}
\DoxyCodeLine{00220 }
\DoxyCodeLine{00221         \textcolor{comment}{// Make sure we're in the regular rendering texture (arbitrarily set to texture0, just for consistency)}}
\DoxyCodeLine{00222         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}* glContext = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}};}
\DoxyCodeLine{00223         glContext\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE0\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00224 }
\DoxyCodeLine{00225         \textcolor{comment}{// First we must bind the vertex array object and vertex buffer object}}
\DoxyCodeLine{00226         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{bind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{)}};}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a6a0113b8f8806828e460e41bd7697b6c}{preRender}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a6a0113b8f8806828e460e41bd7697b6c}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a6a0113b8f8806828e460e41bd7697b6c}{)}};}
\DoxyCodeLine{00229 }
\DoxyCodeLine{00230         \textcolor{comment}{// Create RenderBatches (uploading the vertex data to the bound texture, so that we can actually draw the textures}}
\DoxyCodeLine{00231         \textcolor{comment}{// next.)}}
\DoxyCodeLine{00232         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aa6da4902046ce59bb009570f12f0aaaa}{createRenderBatches}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aa6da4902046ce59bb009570f12f0aaaa}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aa6da4902046ce59bb009570f12f0aaaa}{)}};}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234         \textcolor{comment}{// Now we can render each renderbatch, uploading their texture data respectively.}}
\DoxyCodeLine{00235         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}.size();}
\DoxyCodeLine{00236                 i++)   \textcolor{comment}{// regularly, there will only be one -\/ to the full screen... but you never know!}}
\DoxyCodeLine{00237         \{}
\DoxyCodeLine{00238             \textcolor{comment}{// Bind the texture information to the texture "slot"}}
\DoxyCodeLine{00239             \textcolor{comment}{// This method of binding the textures decreases speed slightly for completely random textures, but if we are}}
\DoxyCodeLine{00240             \textcolor{comment}{// rendering a lot of the same texture, this is similar (if not identical) to instance rendering}}
\DoxyCodeLine{00241 }
\DoxyCodeLine{00242             \textcolor{comment}{// Upload the data}}
\DoxyCodeLine{00243             glDrawArrays(GL\_TRIANGLES, (GLint)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}[i]\mbox{\hyperlink{class_render_batch_abcbeaacf6d5ca1f78c8a270c6975e827}{.}}\mbox{\hyperlink{class_render_batch_abcbeaacf6d5ca1f78c8a270c6975e827}{offset}}, (GLsizei)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}[i]\mbox{\hyperlink{class_render_batch_ac80bf0479536f10923a8bdb50598217a}{.}}\mbox{\hyperlink{class_render_batch_ac80bf0479536f10923a8bdb50598217a}{numVertices}});}
\DoxyCodeLine{00244         \}}
\DoxyCodeLine{00245 }
\DoxyCodeLine{00246         \textcolor{comment}{// Unbind for safety!}}
\DoxyCodeLine{00247         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{unbind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{)}};}
\DoxyCodeLine{00248 }
\DoxyCodeLine{00249         \textcolor{comment}{// Release the shader}}
\DoxyCodeLine{00250         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{unuse}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{)}};}
\DoxyCodeLine{00251     \}}
\DoxyCodeLine{00252 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00253}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aff19a68622b2fdf7033ffee1ab32a7c6}{00253}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aff19a68622b2fdf7033ffee1ab32a7c6}{createTextures}}()}
\DoxyCodeLine{00254     \{}
\DoxyCodeLine{00255         \textcolor{comment}{// Time to actually create the textures for the colour and depth to be stored into.}}
\DoxyCodeLine{00256         \textcolor{comment}{// Create array for handles}}
\DoxyCodeLine{00257         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}} = \textcolor{keyword}{new} GLuint[\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}}];}
\DoxyCodeLine{00258 }
\DoxyCodeLine{00259         \textcolor{comment}{// Create the texture instances and get the handles}}
\DoxyCodeLine{00260         glGenTextures(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}}, \&\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[0]);}
\DoxyCodeLine{00261 }
\DoxyCodeLine{00262         \textcolor{comment}{// Now, for each texture we need to bind it, define it, then attach it to the FBO}}
\DoxyCodeLine{00263         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}}; i++)}
\DoxyCodeLine{00264         \{}
\DoxyCodeLine{00265             \textcolor{comment}{// first, set the active texture to that of GL\_TEXTURE0 + i, so each attachment gets its own "spot"}}
\DoxyCodeLine{00266             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE0 + i\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00267 }
\DoxyCodeLine{00268             \textcolor{comment}{// Now bind the texture to its slot}}
\DoxyCodeLine{00269             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[i]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00270 }
\DoxyCodeLine{00271             \textcolor{comment}{// Just define the texture's basic properties -\/ how it stores data, its size, etc. No data is added here.}}
\DoxyCodeLine{00272             GLenum attachmentType = (i == \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1) ? GL\_DEPTH\_ATTACHMENT : (GL\_COLOR\_ATTACHMENT0 + i);}
\DoxyCodeLine{00273             \textcolor{keywordflow}{switch}(attachmentType)}
\DoxyCodeLine{00274             \{}
\DoxyCodeLine{00275                 \textcolor{keywordflow}{case} GL\_DEPTH\_ATTACHMENT:}
\DoxyCodeLine{00276                     \textcolor{comment}{// Set the texture's type to 32 total bits, with 8 reserved for the stencil.}}
\DoxyCodeLine{00277                     glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_DEPTH24\_STENCIL8, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}}.x, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}}.y, 0, GL\_DEPTH\_STENCIL,}
\DoxyCodeLine{00278                                  GL\_UNSIGNED\_INT\_24\_8, \textcolor{keywordtype}{nullptr});}
\DoxyCodeLine{00279                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00280                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00281                     \textcolor{comment}{// Just a regular texture.}}
\DoxyCodeLine{00282                     glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}}.x, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}}.y, 0, GL\_RGBA, GL\_UNSIGNED\_BYTE, \textcolor{keywordtype}{nullptr});}
\DoxyCodeLine{00283                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00284             \}}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286             \textcolor{comment}{// Give the texture some more basic settings.}}
\DoxyCodeLine{00287             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_CLAMP\_TO\_BORDER);}
\DoxyCodeLine{00288             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_CLAMP\_TO\_BORDER);}
\DoxyCodeLine{00289             \textcolor{keywordtype}{float} backColour[] = \{ 0.0f, 0.0f, 0.0f, 0.0f \}; \textcolor{comment}{// Fully transparent}}
\DoxyCodeLine{00290             glTexParameterfv(GL\_TEXTURE\_2D, GL\_TEXTURE\_BORDER\_COLOR, backColour);}
\DoxyCodeLine{00291             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{00292             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{00293 }
\DoxyCodeLine{00294             \textcolor{comment}{// Now that we've defined the texture, we need to attach it to the FBO!}}
\DoxyCodeLine{00295             \textcolor{comment}{// Attaches either a color or depth attachment of type texture2D with 0 mipmapping levels.}}
\DoxyCodeLine{00296             glFramebufferTexture2D(GL\_FRAMEBUFFER, attachmentType, GL\_TEXTURE\_2D, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[i], 0);}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298             \textcolor{comment}{// Now that its attached, we can unbind the texture}}
\DoxyCodeLine{00299             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} 0\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00300         \}}
\DoxyCodeLine{00301     \}}
\DoxyCodeLine{00302 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00303}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_af0312bfcb60be2285bb443a79ae9678f}{00303}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_af0312bfcb60be2285bb443a79ae9678f}{createFBO}}()}
\DoxyCodeLine{00304     \{}
\DoxyCodeLine{00305         \textcolor{comment}{// Tell OpenGL we want to create an FBO, and store its handle}}
\DoxyCodeLine{00306         glGenFramebuffers(1, \&\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}});}
\DoxyCodeLine{00307 }
\DoxyCodeLine{00308         \textcolor{comment}{// Bind it}}
\DoxyCodeLine{00309         glBindFramebuffer(GL\_FRAMEBUFFER, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}});}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311         \textcolor{comment}{// Create all of its "child" textures}}
\DoxyCodeLine{00312         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aff19a68622b2fdf7033ffee1ab32a7c6}{createTextures}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aff19a68622b2fdf7033ffee1ab32a7c6}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aff19a68622b2fdf7033ffee1ab32a7c6}{)}};}
\DoxyCodeLine{00313 }
\DoxyCodeLine{00314         \textcolor{comment}{// Check to make sure it worked.}}
\DoxyCodeLine{00315         GLint status = glCheckFramebufferStatus(GL\_FRAMEBUFFER);}
\DoxyCodeLine{00316         \textcolor{keywordflow}{if}(status != GL\_FRAMEBUFFER\_COMPLETE)}
\DoxyCodeLine{00317         \{}
\DoxyCodeLine{00318             \mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{throwFatalError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{(}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15}{BAREError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15a56134db1e8559ae4b32bf967c15fc4df}{::}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15a56134db1e8559ae4b32bf967c15fc4df}{FBO\_FAILURE}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{)}};}
\DoxyCodeLine{00319             \textcolor{comment}{// Set the fbo handle to 0 to make sure we show its borked}}
\DoxyCodeLine{00320             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}} = 0;}
\DoxyCodeLine{00321         \}}
\DoxyCodeLine{00322 }
\DoxyCodeLine{00323         \textcolor{comment}{// Finally, unbind it}}
\DoxyCodeLine{00324         glBindFramebuffer(GL\_FRAMEBUFFER, 0);}
\DoxyCodeLine{00325     \}}
\DoxyCodeLine{00326 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00327}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{00327}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{bind}}()}
\DoxyCodeLine{00328     \{}
\DoxyCodeLine{00329         \textcolor{comment}{// First, the FBO}}
\DoxyCodeLine{00330         glBindFramebuffer(GL\_FRAMEBUFFER, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}});}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332         \textcolor{comment}{// Now the textures.}}
\DoxyCodeLine{00333         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}* context = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}};}
\DoxyCodeLine{00334         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}} -\/ 1; i++)}
\DoxyCodeLine{00335         \{}
\DoxyCodeLine{00336             context\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE0 + i\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00337             context\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}}[i]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00338         \}}
\DoxyCodeLine{00339     \}}
\DoxyCodeLine{00340 }
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8cpp_source_l00341}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{00341}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{unbind}}()}
\DoxyCodeLine{00342     \{}
\DoxyCodeLine{00343         \textcolor{comment}{// First, unbind the textures}}
\DoxyCodeLine{00344         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}}; i++)}
\DoxyCodeLine{00345             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{unbindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{,}} GL\_TEXTURE0 + i\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{)}};}
\DoxyCodeLine{00346 }
\DoxyCodeLine{00347         \textcolor{comment}{// Now, unbind the FBO}}
\DoxyCodeLine{00348         glBindFramebuffer(GL\_FRAMEBUFFER, 0);}
\DoxyCodeLine{00349     \}}
\DoxyCodeLine{00350 }
\DoxyCodeLine{00351 \}}

\end{DoxyCode}
