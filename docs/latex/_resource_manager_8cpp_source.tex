\hypertarget{_resource_manager_8cpp_source}{}\doxysection{Resource\+Manager.\+cpp}
\label{_resource_manager_8cpp_source}\index{Source/ResourceManager.cpp@{Source/ResourceManager.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_resource_manager_8hpp}{"ResourceManager.hpp"}}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{vector}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{string}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_i_o_manager_8hpp}{"IOManager.hpp"}}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_b_a_r_e_errors_8hpp}{"BAREErrors.hpp"}}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_pico_p_n_g_8hpp}{"PicoPNG.hpp"}}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_g_l_context_manager_8hpp}{"GLContextManager.hpp"}}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}} \{}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture}{Texture}}>* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_aef356f0e3af2856831be8261e709c123}{m\_textures}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture}{Texture}}>();}
\DoxyCodeLine{00014     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_mutable_texture}{MutableTexture}}>* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af37a2453e77e3be960fff4aa2b2da8ae}{m\_mutableTextures}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_mutable_texture}{MutableTexture}}>();}
\DoxyCodeLine{00015     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{class_sound}{Sound}}>* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_aab37254031dcd1edbccf620db0a112ec}{m\_sounds}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{class_sound}{Sound}}>();}
\DoxyCodeLine{00016     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{class_script}{Script}}>* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a210e7f875573d577e041d073ef586a85}{m\_scripts}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{class_script}{Script}}>();}
\DoxyCodeLine{00017     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_font}{Font}}>* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af110c53a19953db73ece62790759e049}{m\_fonts}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<std::string, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_font}{Font}}>();}
\DoxyCodeLine{00018 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00019}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a00ef658172786a81106218cc6035bc13}{00019}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program}{ShaderProgram}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a00ef658172786a81106218cc6035bc13}{loadShaders}}(std::string\& vertShaderSource, std::string\& fragShaderSource) \{}
\DoxyCodeLine{00020         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program}{ShaderProgram}} newProgram;}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022         newProgram\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{compileShaders}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{(}}vertShaderSource.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{,}} fragShaderSource.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_acf78cf9b4988abf40d62d67471a168a3}{)}};}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024         \textcolor{keywordflow}{return} newProgram;}
\DoxyCodeLine{00025     \}}
\DoxyCodeLine{00026 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00027}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a5dbae5c36f78ce4feb0ec3c0b8d1728a}{00027}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program}{ShaderProgram}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a5dbae5c36f78ce4feb0ec3c0b8d1728a}{loadShadersFromSource}}(std::string\& vertShaderSource, std::string\& fragShaderSource) \{}
\DoxyCodeLine{00028         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program}{ShaderProgram}} newProgram;}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030         newProgram\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a805e1e0c2b0ecd5d9625deed62d45c1c}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a805e1e0c2b0ecd5d9625deed62d45c1c}{compileShadersFromSource}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a805e1e0c2b0ecd5d9625deed62d45c1c}{(}}vertShaderSource.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a805e1e0c2b0ecd5d9625deed62d45c1c}{,}} fragShaderSource.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a805e1e0c2b0ecd5d9625deed62d45c1c}{)}};}
\DoxyCodeLine{00031 }
\DoxyCodeLine{00032         \textcolor{keywordflow}{return} newProgram;}
\DoxyCodeLine{00033     \}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00035}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af4bb03a60f5fdb3ec94064e17c84e823}{00035}}     \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture}{Texture}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af4bb03a60f5fdb3ec94064e17c84e823}{loadTexture}}(std::string\& texturePath)}
\DoxyCodeLine{00036     \{}
\DoxyCodeLine{00037         \{ \textcolor{comment}{// First, check that it doesn't already exist.}}
\DoxyCodeLine{00038             \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture}{Texture}}* cached = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_aef356f0e3af2856831be8261e709c123}{m\_textures}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{findItem}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{(}}texturePath\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{)}};}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040             \textcolor{keywordflow}{if}(cached)}
\DoxyCodeLine{00041                 \textcolor{keywordflow}{return} *cached;}
\DoxyCodeLine{00042         \}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044         \textcolor{comment}{// So, it's not in the cache if we're still here. Load it from a file, create it in the cache, and add it.}}
\DoxyCodeLine{00045         \textcolor{comment}{// Creates it in the cache and returns a pointer.}}
\DoxyCodeLine{00046         \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture}{Texture}}* loadedTex = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_aef356f0e3af2856831be8261e709c123}{m\_textures}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{createItem}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{(}}texturePath\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{)}};}
\DoxyCodeLine{00047         loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a5180877b8d9b7ccc44a50418fc925511}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a5180877b8d9b7ccc44a50418fc925511}{filepath}} = texturePath;}
\DoxyCodeLine{00048         \{}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050             \textcolor{comment}{// Load raw data from the file}}
\DoxyCodeLine{00051             std::vector<\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}> fileData;}
\DoxyCodeLine{00052             \textcolor{keywordtype}{bool} good = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_i_o_manager}{IOManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_i_o_manager_a37c40d993b4d47f41cc49d24820f763b}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_i_o_manager_a37c40d993b4d47f41cc49d24820f763b}{readFileToBuffer}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_i_o_manager_a37c40d993b4d47f41cc49d24820f763b}{(}}texturePath\mbox{\hyperlink{class_b_a_r_e2_d_1_1_i_o_manager_a37c40d993b4d47f41cc49d24820f763b}{,}} fileData\mbox{\hyperlink{class_b_a_r_e2_d_1_1_i_o_manager_a37c40d993b4d47f41cc49d24820f763b}{)}};}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054             \textcolor{comment}{// Check for errors}}
\DoxyCodeLine{00055             \textcolor{keywordflow}{if}(!good) \{}
\DoxyCodeLine{00056                 \mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{throwFatalError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{(}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15}{BAREError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15a875ae376eb2fbd99c364b0c2ed42fedc}{::}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15a875ae376eb2fbd99c364b0c2ed42fedc}{TEXTURE\_FAILURE}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{)}};}
\DoxyCodeLine{00057                 \textcolor{keywordflow}{return} *loadedTex;}
\DoxyCodeLine{00058             \}}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060             \textcolor{comment}{// Decode the raw information into texture data (thanks PicoPNG!)}}
\DoxyCodeLine{00061             std::vector<\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}> textureData;}
\DoxyCodeLine{00062             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} width, height;}
\DoxyCodeLine{00063             \textcolor{keywordtype}{int} errCode = \mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{decodePNG}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{(}}textureData\mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{,}} width\mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{,}} height\mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{,}} \&(fileData[0])\mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{,}} fileData.size()\mbox{\hyperlink{namespace_b_a_r_e2_d_a480b5f334854e31c2d7e026933129480}{)}};}
\DoxyCodeLine{00064             loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4ce2075c242a0865cf7d47ef6c385c0a}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4ce2075c242a0865cf7d47ef6c385c0a}{width}} = width;}
\DoxyCodeLine{00065             loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4092f55b99d2293162311edfe786adb0}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4092f55b99d2293162311edfe786adb0}{height}} = height;}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067             \textcolor{comment}{// Check if pico broke}}
\DoxyCodeLine{00068             \textcolor{keywordflow}{if}(errCode != 0) \{}
\DoxyCodeLine{00069                 \mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{throwFatalError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{(}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15}{BAREError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15a875ae376eb2fbd99c364b0c2ed42fedc}{::}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15a875ae376eb2fbd99c364b0c2ed42fedc}{TEXTURE\_FAILURE}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{)}};}
\DoxyCodeLine{00070                 \textcolor{keywordflow}{return} *loadedTex;}
\DoxyCodeLine{00071             \}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073             \textcolor{comment}{// Our data is good, so actually generate the texture, etc.}}
\DoxyCodeLine{00074             glGenTextures((GLsizei)1, \&(loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a99d41bfc04d894d81e10c5b4d7aed1ab}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a99d41bfc04d894d81e10c5b4d7aed1ab}{id}}));}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076             \textcolor{comment}{// Bind the texture object}}
\DoxyCodeLine{00077             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a99d41bfc04d894d81e10c5b4d7aed1ab}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a99d41bfc04d894d81e10c5b4d7aed1ab}{id}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079             \textcolor{comment}{// Upload pixel data}}
\DoxyCodeLine{00080             glTexImage2D(GL\_TEXTURE\_2D, (GLint)0, GL\_RGBA, (GLsizei)loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4ce2075c242a0865cf7d47ef6c385c0a}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4ce2075c242a0865cf7d47ef6c385c0a}{width}}, (GLsizei)loadedTex\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4092f55b99d2293162311edfe786adb0}{-\/>}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture_a4092f55b99d2293162311edfe786adb0}{height}}, (GLint)0, GL\_RGBA, GL\_UNSIGNED\_BYTE, \&(textureData[0]));}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082             \textcolor{comment}{// Set some basic parameters}}
\DoxyCodeLine{00083             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_CLAMP\_TO\_BORDER);}
\DoxyCodeLine{00084             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_CLAMP\_TO\_BORDER);}
\DoxyCodeLine{00085             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);}
\DoxyCodeLine{00086             glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR\_MIPMAP\_LINEAR);}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088             \textcolor{comment}{// Generate mipmaps}}
\DoxyCodeLine{00089             glGenerateMipmap(GL\_TEXTURE\_2D);}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091             \textcolor{comment}{// Finally, unbind the texture.}}
\DoxyCodeLine{00092             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} 0\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00093         \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095         \textcolor{comment}{// Now that we know our texture definitely exists, we just return an instance of it!}}
\DoxyCodeLine{00096         \textcolor{keywordflow}{return} *loadedTex;}
\DoxyCodeLine{00097     \}}
\DoxyCodeLine{00098 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00099}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a7cd7560c57b0e8a354aa8ce362eb55f3}{00099}}     \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_mutable_texture}{MutableTexture}}* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a7cd7560c57b0e8a354aa8ce362eb55f3}{setMutableTexture}}(std::string\& textureName, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_texture}{Texture}}\& texture)}
\DoxyCodeLine{00100     \{}
\DoxyCodeLine{00101         \textcolor{keywordflow}{return} \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00102     \}}
\DoxyCodeLine{00103 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00104}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a9cc8ee112230160452a17bebd7d7b096}{00104}}     \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_mutable_texture}{MutableTexture}}* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a9cc8ee112230160452a17bebd7d7b096}{loadMutableTexture}}(std::string\& textureName)}
\DoxyCodeLine{00105     \{}
\DoxyCodeLine{00106     \}}
\DoxyCodeLine{00107 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00108}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_ad6a90b54eb05009c05cdfd3794e69855}{00108}}     \mbox{\hyperlink{class_sound}{Sound}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_ad6a90b54eb05009c05cdfd3794e69855}{loadSound}}(std::string\& soundPath)}
\DoxyCodeLine{00109     \{}
\DoxyCodeLine{00110     \}}
\DoxyCodeLine{00111 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00112}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a6004064a5ec03cebb5925acbf8be015a}{00112}}     \mbox{\hyperlink{class_script}{Script}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a6004064a5ec03cebb5925acbf8be015a}{loadScript}}(std::string\& scriptPath)}
\DoxyCodeLine{00113     \{}
\DoxyCodeLine{00114     \}}
\DoxyCodeLine{00115 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00116}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a954a3d0f47a86079d530e5a0d395d157}{00116}}     std::string \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a954a3d0f47a86079d530e5a0d395d157}{loadScriptFromSource}}(std::string\& scriptSource)}
\DoxyCodeLine{00117     \{}
\DoxyCodeLine{00118     \}}
\DoxyCodeLine{00119 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00120}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a779c084be78d6e03a8083cb109b85509}{00120}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_font}{Font}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a779c084be78d6e03a8083cb109b85509}{loadFont}}(std::string\& fontPath, \textcolor{keywordtype}{int} size)}
\DoxyCodeLine{00121     \{}
\DoxyCodeLine{00122         std::string path = fontPath + std::to\_string(size);}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124         \textcolor{comment}{// Check we haven't cached it}}
\DoxyCodeLine{00125         \{}
\DoxyCodeLine{00126             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_font}{Font}}* cached = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af110c53a19953db73ece62790759e049}{m\_fonts}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{findItem}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{(}}path\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{)}};}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128             \textcolor{keywordflow}{if}(cached)}
\DoxyCodeLine{00129                 \textcolor{keywordflow}{return} *cached;}
\DoxyCodeLine{00130         \}}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132         \textcolor{comment}{// We don't already have it. Time to create it!}}
\DoxyCodeLine{00133         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_font}{Font}}* font = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af110c53a19953db73ece62790759e049}{m\_fonts}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{createItem}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{(}}path\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{)}};}
\DoxyCodeLine{00134 }
\DoxyCodeLine{00135         font\mbox{\hyperlink{class_b_a_r_e2_d_1_1_font_a4448baad55264df37021c5e24a033b29}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_font_a4448baad55264df37021c5e24a033b29}{init}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_font_a4448baad55264df37021c5e24a033b29}{(}}fontPath.c\_str()\mbox{\hyperlink{class_b_a_r_e2_d_1_1_font_a4448baad55264df37021c5e24a033b29}{,}} size\mbox{\hyperlink{class_b_a_r_e2_d_1_1_font_a4448baad55264df37021c5e24a033b29}{)}};}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137         \textcolor{keywordflow}{return} *font;}
\DoxyCodeLine{00138     \}}
\DoxyCodeLine{00139 }
\DoxyCodeLine{\Hypertarget{_resource_manager_8cpp_source_l00140}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_acbc049762c33d9f98ddbc5add7e20174}{00140}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager}{ResourceManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_acbc049762c33d9f98ddbc5add7e20174}{clearCaches}}()}
\DoxyCodeLine{00141     \{}
\DoxyCodeLine{00142         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_aef356f0e3af2856831be8261e709c123}{m\_textures}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{clear}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{)}};}
\DoxyCodeLine{00143         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af37a2453e77e3be960fff4aa2b2da8ae}{m\_mutableTextures}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{clear}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{)}};}
\DoxyCodeLine{00144         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_aab37254031dcd1edbccf620db0a112ec}{m\_sounds}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{clear}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{)}};}
\DoxyCodeLine{00145         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_a210e7f875573d577e041d073ef586a85}{m\_scripts}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{clear}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{)}};}
\DoxyCodeLine{00146         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_resource_manager_af110c53a19953db73ece62790759e049}{m\_fonts}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{clear}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{)}};}
\DoxyCodeLine{00147 }
\DoxyCodeLine{00148         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger}{Logger}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_af9e46266b594528fe87ce3e9264033ec}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_af9e46266b594528fe87ce3e9264033ec}{getInstance}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_af9e46266b594528fe87ce3e9264033ec}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_af9e46266b594528fe87ce3e9264033ec}{)}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_a76c97e021ee75d17defbc794f68a965b}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_a76c97e021ee75d17defbc794f68a965b}{log}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_a76c97e021ee75d17defbc794f68a965b}{(}}\textcolor{stringliteral}{"Cleared all caches."}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_logger_a76c97e021ee75d17defbc794f68a965b}{)}};}
\DoxyCodeLine{00149     \}}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152 \}}

\end{DoxyCode}
