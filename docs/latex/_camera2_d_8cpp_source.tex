\hypertarget{_camera2_d_8cpp_source}{}\doxysection{Camera2\+D.\+cpp}
\label{_camera2_d_8cpp_source}\index{Source/Camera2D.cpp@{Source/Camera2D.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_camera2_d_8hpp}{"Camera2D.hpp"}}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{glm}\textcolor{preprocessor}{/}\textcolor{preprocessor}{gtc}\textcolor{preprocessor}{/}\textcolor{preprocessor}{matrix\_transform}\textcolor{preprocessor}{.}\textcolor{preprocessor}{hpp}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00004 }
\DoxyCodeLine{00005 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}} \{}
\DoxyCodeLine{00006 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00007}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab946a4bc02d5e3ede6280dc9227b93f7}{00007}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab946a4bc02d5e3ede6280dc9227b93f7}{Camera2D}}() :}
\DoxyCodeLine{00008         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}(1),}
\DoxyCodeLine{00009         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}}(1),}
\DoxyCodeLine{00010         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab2f45f0eef736f1f2bae5480f6b07fb5}{m\_cameraMatrix}}(glm::mat4(0.0f)),}
\DoxyCodeLine{00011         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a0c62bc85857ebd1ae9c5cd6e03263191}{m\_orthographicMatrix}}(glm::mat4(0.0f)),}
\DoxyCodeLine{00012         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}}(\textcolor{keyword}{true}) \{}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014     \}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00016}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_afcc581190860037c9d9f95376aeb60ec}{00016}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\string~\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_afcc581190860037c9d9f95376aeb60ec}{Camera2D}}() \{}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018     \}}
\DoxyCodeLine{00019 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00020}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a7dc4acd9d8d0cc2e7b7d956528fd488f}{00020}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a7dc4acd9d8d0cc2e7b7d956528fd488f}{init}}(\textcolor{keywordtype}{float} screenWidth, \textcolor{keywordtype}{float} screenHeight) \{}
\DoxyCodeLine{00021         \textcolor{comment}{// Set the necessary bits}}
\DoxyCodeLine{00022         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}} = screenWidth;}
\DoxyCodeLine{00023         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}} = screenHeight;}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025         \textcolor{comment}{// Reset the necessary bits}}
\DoxyCodeLine{00026         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}} = glm::vec2(1.0f);}
\DoxyCodeLine{00027         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}} = glm::vec2(0.0f);}
\DoxyCodeLine{00028         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ae00469b82dba0583ce9d30a787b53c6a}{m\_lastState}} = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}};}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030         \textcolor{comment}{// Specifies a 2D coordinate system from 0.0-\/screenWidth in the X dimension and 0.0-\/screenHeight in the y direction.}}
\DoxyCodeLine{00031         \textcolor{comment}{// Allows for transformation from an unbounded/3D system to a 2D projection.}}
\DoxyCodeLine{00032         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a0c62bc85857ebd1ae9c5cd6e03263191}{m\_orthographicMatrix}} = glm::ortho(0.0f, (\textcolor{keywordtype}{float})\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}, 0.0f, (\textcolor{keywordtype}{float})\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}});}
\DoxyCodeLine{00033         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab2f45f0eef736f1f2bae5480f6b07fb5}{m\_cameraMatrix}} = glm::mat4(0.0f);}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035         \textcolor{comment}{// Make sure we update possible old stuff and initialize new stuff otherwise.}}
\DoxyCodeLine{00036         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00037     \}}
\DoxyCodeLine{00038 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00039}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{00039}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{update}}() \{}
\DoxyCodeLine{00040         \textcolor{comment}{// Check if we need to do expensive operations}}
\DoxyCodeLine{00041         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}}) \{}
\DoxyCodeLine{00042             \textcolor{comment}{// Shit. We do need to.}}
\DoxyCodeLine{00043             \textcolor{comment}{// First, find the world's translation relative to the camera.}}
\DoxyCodeLine{00044             glm::vec3 translation = glm::vec3(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}}, 0.0f)/2.0f-\/glm::vec3(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}}.x, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}}.y, 0.0f);}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046             \textcolor{comment}{// Multiply by our transforming vector to actually move it.}}
\DoxyCodeLine{00047             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab2f45f0eef736f1f2bae5480f6b07fb5}{m\_cameraMatrix}} = glm::translate(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a0c62bc85857ebd1ae9c5cd6e03263191}{m\_orthographicMatrix}}, translation);}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050             \textcolor{comment}{// Find the scale of the camera}}
\DoxyCodeLine{00051             glm::vec3 scale = glm::vec3(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.x, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.y, 0.0f);}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053             \textcolor{comment}{// Multiply by our scale matrix.}}
\DoxyCodeLine{00054             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab2f45f0eef736f1f2bae5480f6b07fb5}{m\_cameraMatrix}} = glm::scale(glm::mat4(1.0f), scale) * \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab2f45f0eef736f1f2bae5480f6b07fb5}{m\_cameraMatrix}};}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056             \textcolor{comment}{// Make sure we don't have to do this again every goddamn frame}}
\DoxyCodeLine{00057             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}} = \textcolor{keyword}{false};}
\DoxyCodeLine{00058         \}}
\DoxyCodeLine{00059     \}}
\DoxyCodeLine{00060 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00061}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a50541205dc08b5067c5c6b18d403948c}{00061}}     glm::vec4 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a50541205dc08b5067c5c6b18d403948c}{getScreenSpaceFromViewSpace}}(glm::vec4 destRect) \{}
\DoxyCodeLine{00062         glm::vec4 res(0.0f);}
\DoxyCodeLine{00063         glm::vec2 pos = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a57fc25c8ff96874144f558a940ecbfbc}{getScreenPositionFromViewedPosition}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a57fc25c8ff96874144f558a940ecbfbc}{(}}glm::vec2(destRect.x, destRect.y)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a57fc25c8ff96874144f558a940ecbfbc}{)}};}
\DoxyCodeLine{00064         glm::vec2 size = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{getScreenSizeFromViewedSize}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{(}}glm::vec2(destRect.w, destRect.z)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{)}};}
\DoxyCodeLine{00065         res = glm::vec4(pos.x, pos.y, size.x, size.y);}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067         \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00068     \}}
\DoxyCodeLine{00069 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00070}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab7900053fbf8126bf818fdde77d908ac}{00070}}     glm::vec4 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab7900053fbf8126bf818fdde77d908ac}{getViewSpaceFromScreenSpace}}(glm::vec4 destRect) \{}
\DoxyCodeLine{00071         glm::vec4 res(0.0f);}
\DoxyCodeLine{00072         glm::vec2 pos = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a1e4a062d480d3344d2bf48b99225f3b5}{getViewedPositionFromScreenPosition}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a1e4a062d480d3344d2bf48b99225f3b5}{(}}glm::vec2(destRect.x, destRect.y)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a1e4a062d480d3344d2bf48b99225f3b5}{)}};}
\DoxyCodeLine{00073         glm::vec2 size = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aac3f0ebf00562b8380401b6a9023e3df}{getViewedSizeFromScreenSize}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aac3f0ebf00562b8380401b6a9023e3df}{(}}glm::vec2(destRect.w, destRect.z)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aac3f0ebf00562b8380401b6a9023e3df}{)}};}
\DoxyCodeLine{00074         res = glm::vec4(pos.x, pos.y, size.x, size.y);}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076         \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00077     \}}
\DoxyCodeLine{00078 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00079}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a57fc25c8ff96874144f558a940ecbfbc}{00079}}     glm::vec2 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a57fc25c8ff96874144f558a940ecbfbc}{getScreenPositionFromViewedPosition}}(glm::vec2 viewedPosition) \{}
\DoxyCodeLine{00080         \textcolor{comment}{// Converts position from viewspace to screenspace.}}
\DoxyCodeLine{00081         \textcolor{comment}{// Viewspace goes from (campos -\/ size/(2scale)) -\/> (campos + size/(2scale))}}
\DoxyCodeLine{00082         \textcolor{comment}{// Screenspace goes from (-\/1,-\/1)-\/>(1,1)}}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084         glm::vec2 maxAmplitude = (glm::vec2(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}}) / 2.0f) / \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}};}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086         glm::vec2 screenPosition = viewedPosition -\/ \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}};}
\DoxyCodeLine{00087         screenPosition /= maxAmplitude;}
\DoxyCodeLine{00088 }
\DoxyCodeLine{00089         \textcolor{keywordflow}{return} screenPosition;}
\DoxyCodeLine{00090     \}}
\DoxyCodeLine{00091 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00092}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a1e4a062d480d3344d2bf48b99225f3b5}{00092}}     glm::vec2 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a1e4a062d480d3344d2bf48b99225f3b5}{getViewedPositionFromScreenPosition}}(glm::vec2 screenPosition) \{}
\DoxyCodeLine{00093         \textcolor{comment}{// Converts position from screenspace to viewspace.}}
\DoxyCodeLine{00094         \textcolor{comment}{// Viewspace goes from (campos -\/ size/(2scale)) -\/> (campos + size/(2scale))}}
\DoxyCodeLine{00095         \textcolor{comment}{// Screenspace goes from (-\/1,-\/1)-\/>(1,1)}}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097         glm::vec2 maxAmplitude = (glm::vec2(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}}) / 2.0f) / \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}};}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099         glm::vec2 viewedPosition = screenPosition * maxAmplitude;}
\DoxyCodeLine{00100         viewedPosition += \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}};}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102         \textcolor{keywordflow}{return} viewedPosition;}
\DoxyCodeLine{00103     \}}
\DoxyCodeLine{00104 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00105}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{00105}}     glm::vec2 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ac5cb2034f0ba69eeec5ff52a20b49a74}{getScreenSizeFromViewedSize}}(glm::vec2 viewedSize) \{}
\DoxyCodeLine{00106         \textcolor{comment}{// Literally just treat viewedSize as a rectangle from (0, 0) (centre in both spaces) -\/> (viewedSize)}}
\DoxyCodeLine{00107         glm::vec2 fullMagnitude = (glm::vec2(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}}) / 2.0f) / \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}};}
\DoxyCodeLine{00108 }
\DoxyCodeLine{00109         glm::vec2 screenSize = viewedSize / fullMagnitude;}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111         \textcolor{keywordflow}{return} screenSize;}
\DoxyCodeLine{00112     \}}
\DoxyCodeLine{00113 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00114}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aac3f0ebf00562b8380401b6a9023e3df}{00114}}     glm::vec2 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aac3f0ebf00562b8380401b6a9023e3df}{getViewedSizeFromScreenSize}}(glm::vec2 screenSize) \{}
\DoxyCodeLine{00115         \textcolor{comment}{// Literally just treat screenSize as a rectangle from (0, 0) (centre in both spaces) -\/> (screenSize)}}
\DoxyCodeLine{00116         glm::vec2 fullMagnitude = (glm::vec2(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}}) / 2.0f) / \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}};}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118         glm::vec2 viewedSize = screenSize * fullMagnitude;}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120         \textcolor{keywordflow}{return} viewedSize;}
\DoxyCodeLine{00121     \}}
\DoxyCodeLine{00122 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00123}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9f19134e20f6560cfc8b005179297e75}{00123}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9f19134e20f6560cfc8b005179297e75}{setPosition}}(glm::vec2 newPos) \{}
\DoxyCodeLine{00124         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ae00469b82dba0583ce9d30a787b53c6a}{m\_lastState}} = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}};}
\DoxyCodeLine{00125 }
\DoxyCodeLine{00126         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}} = newPos;}
\DoxyCodeLine{00127         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00128     \}}
\DoxyCodeLine{00129 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00130}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a4a2d87a57c0f696b5d5398cc0e55f9b6}{00130}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a4a2d87a57c0f696b5d5398cc0e55f9b6}{offsetPosition}}(glm::vec2 offset) \{}
\DoxyCodeLine{00131         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ae00469b82dba0583ce9d30a787b53c6a}{m\_lastState}} = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}};}
\DoxyCodeLine{00132 }
\DoxyCodeLine{00133         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}} += offset;}
\DoxyCodeLine{00134         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00135     \}}
\DoxyCodeLine{00136 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00137}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a061c94d6ebc84e61e5f4c4289a5102c6}{00137}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a061c94d6ebc84e61e5f4c4289a5102c6}{setScale}}(\textcolor{keywordtype}{float} newScaleX, \textcolor{keywordtype}{float} newScaleY) \{}
\DoxyCodeLine{00138         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ae00469b82dba0583ce9d30a787b53c6a}{m\_lastState}} = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}};}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.x = newScaleX;}
\DoxyCodeLine{00141         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.y = newScaleY;}
\DoxyCodeLine{00142         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00143     \}}
\DoxyCodeLine{00144 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00145}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_af1747a0b2508ddeb70a39ed5e7ef8d1f}{00145}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_af1747a0b2508ddeb70a39ed5e7ef8d1f}{offsetScale}}(\textcolor{keywordtype}{float} offsetX, \textcolor{keywordtype}{float} offsetY) \{}
\DoxyCodeLine{00146         \textcolor{comment}{// Set the state before modification to the current state, then modify}}
\DoxyCodeLine{00147         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ae00469b82dba0583ce9d30a787b53c6a}{m\_lastState}} = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}};}
\DoxyCodeLine{00148 }
\DoxyCodeLine{00149         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.x += offsetX;}
\DoxyCodeLine{00150         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.y += offsetY;}
\DoxyCodeLine{00151         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5fd96de660f005ed4c509e49be04288c}{m\_matrixNeedsUpdate}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00152     \}}
\DoxyCodeLine{00153 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00154}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a08daa1e558adc40450ab093b10be9903}{00154}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a08daa1e558adc40450ab093b10be9903}{getScreenWidth}}() \textcolor{keyword}{const} \{}
\DoxyCodeLine{00155         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a325291933b06e133659803de0a39709f}{m\_screenWidth}};}
\DoxyCodeLine{00156     \}}
\DoxyCodeLine{00157 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00158}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a729d849cd026896190dae4c54117f5cb}{00158}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a729d849cd026896190dae4c54117f5cb}{getScreenHeight}}() \textcolor{keyword}{const} \{}
\DoxyCodeLine{00159         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aa70fe02352a04303b76801a8546b97c8}{m\_screenHeight}};}
\DoxyCodeLine{00160     \}}
\DoxyCodeLine{00161 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00162}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aedfa05d39dcb04a580aa17f852f23b62}{00162}}     glm::vec2 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aedfa05d39dcb04a580aa17f852f23b62}{getPosition}}() \textcolor{keyword}{const} \{}
\DoxyCodeLine{00163         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_af826517612ff78fb1e3270f40a6129ed}{position}};}
\DoxyCodeLine{00164     \}}
\DoxyCodeLine{00165 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00166}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5f8cdb2ee108cd640ed5173050eea494}{00166}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a5f8cdb2ee108cd640ed5173050eea494}{getScaleX}}() \textcolor{keyword}{const} \{}
\DoxyCodeLine{00167         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.x;}
\DoxyCodeLine{00168     \}}
\DoxyCodeLine{00169 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00170}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aade5dd058dbed778fd6fbb4d3dc68a99}{00170}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aade5dd058dbed778fd6fbb4d3dc68a99}{getScaleY}}() \textcolor{keyword}{const} \{}
\DoxyCodeLine{00171         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{.}}\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state_afd9cc7582150918a69aba72a37c05ae3}{scale}}.y;}
\DoxyCodeLine{00172     \}}
\DoxyCodeLine{00173 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00174}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9cefaaedae2a62e92590b9c8b4da35a7}{00174}}     \textcolor{keyword}{const} glm::mat4\& \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9cefaaedae2a62e92590b9c8b4da35a7}{getCameraMatrix}}() \textcolor{keyword}{const} \{}
\DoxyCodeLine{00175         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ab2f45f0eef736f1f2bae5480f6b07fb5}{m\_cameraMatrix}};}
\DoxyCodeLine{00176     \}}
\DoxyCodeLine{00177 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00178}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a8b30d128929ca6161be0ee282d2a47b5}{00178}}     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a8b30d128929ca6161be0ee282d2a47b5}{isRectInScene}}(glm::vec4\& rectangle) \{}
\DoxyCodeLine{00179 }
\DoxyCodeLine{00180         glm::vec4 screenSpaceRect = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a50541205dc08b5067c5c6b18d403948c}{getScreenSpaceFromViewSpace}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a50541205dc08b5067c5c6b18d403948c}{(}}rectangle\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a50541205dc08b5067c5c6b18d403948c}{)}};}
\DoxyCodeLine{00181 }
\DoxyCodeLine{00182         \textcolor{comment}{// Check if either of the positive x or negative x sides are too far to be seen}}
\DoxyCodeLine{00183         \textcolor{keywordflow}{if}(screenSpaceRect.x + screenSpaceRect.z < -\/1.0f || screenSpaceRect.x > 1.0f) \{}
\DoxyCodeLine{00184             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00185         \}}
\DoxyCodeLine{00186 }
\DoxyCodeLine{00187         \textcolor{comment}{// Check if the y value causes un-\/seeability}}
\DoxyCodeLine{00188         \textcolor{keywordflow}{if}(screenSpaceRect.y + screenSpaceRect.w < -\/1.0f || screenSpaceRect.y > 1.0f) \{}
\DoxyCodeLine{00189             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00190         \}}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00193     \}}
\DoxyCodeLine{00194 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00195}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a2caeb8117d62d75bce38848a0af4ac5a}{00195}}     \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state}{CameraState}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a2caeb8117d62d75bce38848a0af4ac5a}{getState}}() \{}
\DoxyCodeLine{00196         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a85c9c0f8da363196b1500219de33c0f4}{m\_state}};}
\DoxyCodeLine{00197     \}}
\DoxyCodeLine{00198 }
\DoxyCodeLine{\Hypertarget{_camera2_d_8cpp_source_l00199}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_abdfac8eaadfc27196f49bab4a7c51934}{00199}}     \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_camera_state}{CameraState}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_abdfac8eaadfc27196f49bab4a7c51934}{getLastState}}() \{}
\DoxyCodeLine{00200         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_ae00469b82dba0583ce9d30a787b53c6a}{m\_lastState}};}
\DoxyCodeLine{00201     \}}
\DoxyCodeLine{00202 }
\DoxyCodeLine{00203 }
\DoxyCodeLine{00204 \}}

\end{DoxyCode}
