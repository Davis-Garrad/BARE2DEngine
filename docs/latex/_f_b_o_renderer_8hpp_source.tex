\hypertarget{_f_b_o_renderer_8hpp_source}{}\doxysection{F\+B\+O\+Renderer.\+hpp}
\label{_f_b_o_renderer_8hpp_source}\index{Source/FBORenderer.hpp@{Source/FBORenderer.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma} \textcolor{preprocessor}{once}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{glm}\textcolor{preprocessor}{/}\textcolor{preprocessor}{glm}\textcolor{preprocessor}{.}\textcolor{preprocessor}{hpp}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{memory}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_camera2_d_8hpp}{"Camera2D.hpp"}}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_renderer_8hpp}{"Renderer.hpp"}}}
\DoxyCodeLine{00008 }
\DoxyCodeLine{00009 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}}}
\DoxyCodeLine{00010 \{}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012     \textcolor{comment}{/**}}
\DoxyCodeLine{00013 \textcolor{comment}{     * @class FBORenderer}}
\DoxyCodeLine{00014 \textcolor{comment}{     * @brief The FBORenderer represents and manages an entire FrameBufferObject. This allows one to draw entire scenes}}
\DoxyCodeLine{00015 \textcolor{comment}{     * first to a texture, then perform some operations on that texture, then draw that texture to the screen. Shaders have}}
\DoxyCodeLine{00016 \textcolor{comment}{     * uniforms projectionMatrix (mat4), colourTexture (sampler2D), and depthTexture (sampler2D)}}
\DoxyCodeLine{00017 \textcolor{comment}{     */}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00018}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{00018}}     \textcolor{keyword}{class} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer}{FBORenderer}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer}{Renderer}}}
\DoxyCodeLine{00019     \{}
\DoxyCodeLine{00020     \textcolor{keyword}{public}:}
\DoxyCodeLine{00021         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a97d2c3b426dd8f3c79a4d3c5ee707788}{FBORenderer}}(std::string\& fragShader,}
\DoxyCodeLine{00022                     std::string\& vertShader,}
\DoxyCodeLine{00023                     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} windowWidth,}
\DoxyCodeLine{00024                     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} windowHeight,}
\DoxyCodeLine{00025                     glm::vec2 size,}
\DoxyCodeLine{00026                     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} numColourAttachments = 1);}
\DoxyCodeLine{00027         \textcolor{keyword}{virtual} \string~\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aeb5ab1b6abc77d9ec3943d1966574d1b}{FBORenderer}}();}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac1902310c37a001b0f6d53b7d6066867}{init}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00030         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad27e4c76b6f82a74b967464560254a87}{initUniforms}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00031 }
\DoxyCodeLine{00032         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ae64dbdf46c5bf05c7c976303a072f08c}{setCamera}}(std::shared\_ptr<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}>\& cam);}
\DoxyCodeLine{00033         std::shared\_ptr<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}> \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_abcccb35e9cdf13c41ba6b11edf1a286e}{getCamera}}();}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aaccc7bddd25f99cca5b734d097383c6e}{render}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5e94ee6c2c34dcdcbd65c9b05f3a465a}{begin}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00038         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a4dde75642694aa34aa463bb298cb34cd}{end}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00039         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a0e3cc5707a16360dbaf0832058f28b1a}{destroy}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041     \textcolor{keyword}{protected}:}
\DoxyCodeLine{00042         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a6a0113b8f8806828e460e41bd7697b6c}{preRender}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aa6da4902046ce59bb009570f12f0aaaa}{createRenderBatches}}() \textcolor{keyword}{override};}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046         \textcolor{comment}{/**}}
\DoxyCodeLine{00047 \textcolor{comment}{         * @brief Binds the FBO and appropriate texture attachments}}
\DoxyCodeLine{00048 \textcolor{comment}{         */}}
\DoxyCodeLine{00049         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5765d077d8aff3402f717863169a0176}{bind}}();}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051         \textcolor{comment}{/**}}
\DoxyCodeLine{00052 \textcolor{comment}{         * @brief Unbinds the FBO + textures}}
\DoxyCodeLine{00053 \textcolor{comment}{         */}}
\DoxyCodeLine{00054         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a01768136e2e36b131a23d422ded3bd5b}{unbind}}();}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056         \textcolor{comment}{/**}}
\DoxyCodeLine{00057 \textcolor{comment}{         * @brief Creates all of the OpenGL textures, and takes their handles into m\_colourTextureID, and m\_depthTextureID}}
\DoxyCodeLine{00058 \textcolor{comment}{         */}}
\DoxyCodeLine{00059         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aff19a68622b2fdf7033ffee1ab32a7c6}{createTextures}}();}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061         \textcolor{comment}{/**}}
\DoxyCodeLine{00062 \textcolor{comment}{         * @brief Creates the OpenGL FBO instance and holds its handle in m\_fboID;}}
\DoxyCodeLine{00063 \textcolor{comment}{         */}}
\DoxyCodeLine{00064         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_af0312bfcb60be2285bb443a79ae9678f}{createFBO}}();}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066         \textcolor{comment}{// The handle for the FBO object}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00067}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{00067}}         GLuint \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b1ec62a3954d7be5b309ac4a52337d2}{m\_fboID}};}
\DoxyCodeLine{00068         \textcolor{comment}{// The handles for the texture to draw colours, depths, etc. to. Accessed purely through the shader/s.}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00069}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{00069}}         GLuint* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a636af190f493550d7ce629e7ffaf157b}{m\_textureIDs}} = \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00070         \textcolor{comment}{// One for colour (normally), one for depth+stencil (8 bits of the 32 are dedicated to the stencil). Total number of}}
\DoxyCodeLine{00071         \textcolor{comment}{// attachments to the FBO}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00072}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{00072}}         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_aef32219b7769258d2e2af288d0e71e5d}{m\_numTextures}};}
\DoxyCodeLine{00073         \textcolor{comment}{// Please note that the number of colour attachments is going to be the number of textures -\/ 1.}}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075         \textcolor{comment}{// The perspective camera (it also holds the window size, FBO position, etc.)}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00076}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{00076}}         std::shared\_ptr<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d}{Camera2D}}> \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a5b85155ebfa175cdabaaf477a854ee54}{m\_camera}};}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078         \textcolor{comment}{// The fragment and vertex shader paths for the GLSL shader program}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00079}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac4b73ba3b179c0cf854d36b77d535b8a}{00079}}         std::string \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a3ca9f890aa6cd904a6ba201a219ccb5e}{m\_fragmentShaderPath}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ac4b73ba3b179c0cf854d36b77d535b8a}{m\_vertexShaderPath}};}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081         \textcolor{comment}{// The actual FBO's size.}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00082}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{00082}}         glm::vec2 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_ad180b814eabde3793654d66ef40a8118}{m\_size}};}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084         \textcolor{comment}{// Some shaders won't touch the depth buffer.}}
\DoxyCodeLine{\Hypertarget{_f_b_o_renderer_8hpp_source_l00085}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a8cb0768b5c42501e8e3299d45e917114}{00085}}         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_f_b_o_renderer_a8cb0768b5c42501e8e3299d45e917114}{m\_shaderHasDepth}} = \textcolor{keyword}{false};}
\DoxyCodeLine{00086     \};}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088 \}}

\end{DoxyCode}
