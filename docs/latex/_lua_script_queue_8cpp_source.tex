\hypertarget{_lua_script_queue_8cpp_source}{}\doxysection{Lua\+Script\+Queue.\+cpp}
\label{_lua_script_queue_8cpp_source}\index{Source/LuaScriptQueue.cpp@{Source/LuaScriptQueue.cpp}}
\mbox{\hyperlink{_lua_script_queue_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_lua_script_queue_8hpp}{LuaScriptQueue.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_lua_script_8hpp}{LuaScript.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00005}00005 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}} \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00007}00007     LuaScriptQueue* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab5b984d86c2e18f58c086d48e5da8839}{LuaScriptQueue::m\_instance}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00008}00008     }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00009}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a09d55d72248748aff18167a4a5a309dd}{00009}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a09d55d72248748aff18167a4a5a309dd}{LuaScriptQueue::LuaScriptQueue}}()}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00010}00010     \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00011}00011         \textcolor{comment}{// Not really anything to do here.}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00012}00012     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00014}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_aa62b9af9441e8b47fa2336c9aecb7abe}{00014}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_aa62b9af9441e8b47fa2336c9aecb7abe}{LuaScriptQueue::\string~LuaScriptQueue}}()}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00015}00015     \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00016}00016         \textcolor{comment}{// Nor here, either.}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00017}00017     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00019}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab2db531a9ecaa50fba9f27715124d948}{00019}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue}{LuaScriptQueue}}* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab2db531a9ecaa50fba9f27715124d948}{LuaScriptQueue::getInstance}}()}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00020}00020     \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00021}00021         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab5b984d86c2e18f58c086d48e5da8839}{m\_instance}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00022}00022             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab5b984d86c2e18f58c086d48e5da8839}{m\_instance}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a09d55d72248748aff18167a4a5a309dd}{LuaScriptQueue}}();}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00023}00023         \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00024}00024         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab5b984d86c2e18f58c086d48e5da8839}{m\_instance}};}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00025}00025     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00026}00026     }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00027}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ac9887f9df784c42239af672d3f0c520d}{00027}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ac9887f9df784c42239af672d3f0c520d}{LuaScriptQueue::destroyInstance}}() \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00028}00028         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab5b984d86c2e18f58c086d48e5da8839}{m\_instance}}) \textcolor{keyword}{delete} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ab5b984d86c2e18f58c086d48e5da8839}{m\_instance}};}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00029}00029     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00031}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a862fbd9245d6e0d623cc327c2fbfd43a}{00031}}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a862fbd9245d6e0d623cc327c2fbfd43a}{LuaScriptQueue::addLuaScript}}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script}{LuaScript}}\& script)}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00032}00032     \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00033}00033         \textcolor{comment}{// Add the script to the map. (or, in the off chance we have somehow added 4,294,967,295 different scripts in the last update, overwrite this one.)}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00034}00034         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script}{LuaScript}}* scr = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script}{LuaScript}}();}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00035}00035         *scr = script;}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00036}00036         }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00037}00037         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a301bc6696aa37d7879f10f5195ca5c6d}{m\_scripts}}[++\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_aece5f415a74cf4841ea73a46201ce13e}{m\_lastUUID}}] = scr;}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00038}00038         }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00039}00039         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_aece5f415a74cf4841ea73a46201ce13e}{m\_lastUUID}};}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00040}00040     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00041}00041     }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00042}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_ad5a82f0714d8b4178ea6498aa9f8368f}{00042}}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a862fbd9245d6e0d623cc327c2fbfd43a}{LuaScriptQueue::addLuaScript}}(std::string script) \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00043}00043         \textcolor{comment}{// Create a script object and add it normally}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00044}00044         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script}{LuaScript}} scr;}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00045}00045         scr.\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_a1995fc1d69d00731e44a4525542e4f2f}{m\_script}} = script;}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00046}00046         scr.\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_a85800f148edadb7a6755f1edcc2f3b50}{inited}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00047}00047         }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00048}00048         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a862fbd9245d6e0d623cc327c2fbfd43a}{addLuaScript}}(scr);}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00049}00049     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00051}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_acddabdadd43bd97c17fb9688954a002d}{00051}}     std::map<unsigned int,LuaScript*>\& \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_acddabdadd43bd97c17fb9688954a002d}{LuaScriptQueue::getQueue}}()}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00052}00052     \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00053}00053         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a301bc6696aa37d7879f10f5195ca5c6d}{m\_scripts}};}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00054}00054     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00056}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a45b878abc0f5e6e91af7b88c7bae81c2}{00056}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a45b878abc0f5e6e91af7b88c7bae81c2}{LuaScriptQueue::clearQueue}}()}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00057}00057     \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00058}00058         \textcolor{comment}{// First, make sure we actually dispose of the scripts correctly}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00059}00059         \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} e : \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a301bc6696aa37d7879f10f5195ca5c6d}{m\_scripts}}) \{}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00060}00060             \textcolor{keyword}{delete} e.second;}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00061}00061         \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00062}00062         }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00063}00063         \textcolor{comment}{// Just clear the map now. Ez.}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00064}00064         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_lua_script_queue_a301bc6696aa37d7879f10f5195ca5c6d}{m\_scripts}}.clear();}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00065}00065     \}}
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{_lua_script_queue_8cpp_source_l00067}00067 \}}

\end{DoxyCode}
