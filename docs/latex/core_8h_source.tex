\hypertarget{core_8h_source}{}\doxysection{core.\+h}
\label{core_8h_source}\index{Other\_Libraries/utf8/core.h@{Other\_Libraries/utf8/core.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// Copyright 2006 Nemanja Trifunovic}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{comment}{/*}}
\DoxyCodeLine{00004 \textcolor{comment}{Permission is hereby granted, free of charge, to any person or organization}}
\DoxyCodeLine{00005 \textcolor{comment}{obtaining a copy of the software and accompanying documentation covered by}}
\DoxyCodeLine{00006 \textcolor{comment}{this license (the "Software") to use, reproduce, display, distribute,}}
\DoxyCodeLine{00007 \textcolor{comment}{execute, and transmit the Software, and to prepare derivative works of the}}
\DoxyCodeLine{00008 \textcolor{comment}{Software, and to permit third-\/parties to whom the Software is furnished to}}
\DoxyCodeLine{00009 \textcolor{comment}{do so, all subject to the following:}}
\DoxyCodeLine{00010 \textcolor{comment}{}}
\DoxyCodeLine{00011 \textcolor{comment}{The copyright notices in the Software and this entire statement, including}}
\DoxyCodeLine{00012 \textcolor{comment}{the above license grant, this restriction and the following disclaimer,}}
\DoxyCodeLine{00013 \textcolor{comment}{must be included in all copies of the Software, in whole or in part, and}}
\DoxyCodeLine{00014 \textcolor{comment}{all derivative works of the Software, unless such copies or derivative}}
\DoxyCodeLine{00015 \textcolor{comment}{works are solely in the form of machine-\/executable object code generated by}}
\DoxyCodeLine{00016 \textcolor{comment}{a source language processor.}}
\DoxyCodeLine{00017 \textcolor{comment}{}}
\DoxyCodeLine{00018 \textcolor{comment}{THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{00019 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{00020 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-\/INFRINGEMENT. IN NO EVENT}}
\DoxyCodeLine{00021 \textcolor{comment}{SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE}}
\DoxyCodeLine{00022 \textcolor{comment}{FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,}}
\DoxyCodeLine{00023 \textcolor{comment}{ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER}}
\DoxyCodeLine{00024 \textcolor{comment}{DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{00025 \textcolor{comment}{*/}}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{ifndef} \textcolor{preprocessor}{UTF8\_FOR\_CPP\_CORE\_H\_2675DCD0\_9480\_4c0c\_B92A\_CC14C027B731}}
\DoxyCodeLine{00029 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{define} \textcolor{preprocessor}{UTF8\_FOR\_CPP\_CORE\_H\_2675DCD0\_9480\_4c0c\_B92A\_CC14C027B731}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \textcolor{preprocessor}{<}\textcolor{preprocessor}{iterator}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespaceutf8}{utf8}}}
\DoxyCodeLine{00034 \{}
\DoxyCodeLine{00035     \textcolor{comment}{// The typedefs for 8-\/bit, 16-\/bit and 32-\/bit unsigned integers}}
\DoxyCodeLine{00036     \textcolor{comment}{// You may need to change them to match your system.}}
\DoxyCodeLine{00037     \textcolor{comment}{// These typedefs have the same names as ones from cstdint, or boost/cstdint}}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00038}\mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{00038}}     \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}   \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}};}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00039}\mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{00039}}     \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}  \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}};}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00040}\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{00040}}     \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}    \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}};}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042 \textcolor{comment}{// Helper code -\/ not intended to be directly called by the library users. May be changed at any time}}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00043}\mbox{\hyperlink{namespaceutf8_1_1internal}{00043}} \textcolor{keyword}{namespace} \mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}}
\DoxyCodeLine{00044 \{}
\DoxyCodeLine{00045     \textcolor{comment}{// Unicode constants}}
\DoxyCodeLine{00046     \textcolor{comment}{// Leading (high) surrogates: 0xd800 -\/ 0xdbff}}
\DoxyCodeLine{00047     \textcolor{comment}{// Trailing (low) surrogates: 0xdc00 -\/ 0xdfff}}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00048}\mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{00048}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}}  = 0xd800u;}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00049}\mbox{\hyperlink{namespaceutf8_1_1internal_af6038b4ebd9b71391eba050cc29720b8}{00049}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_af6038b4ebd9b71391eba050cc29720b8}{LEAD\_SURROGATE\_MAX}}  = 0xdbffu;}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00050}\mbox{\hyperlink{namespaceutf8_1_1internal_a836088cf3e5e29ac9a89b2ffbd91623e}{00050}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_a836088cf3e5e29ac9a89b2ffbd91623e}{TRAIL\_SURROGATE\_MIN}} = 0xdc00u;}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00051}\mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{00051}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{TRAIL\_SURROGATE\_MAX}} = 0xdfffu;}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00052}\mbox{\hyperlink{namespaceutf8_1_1internal_a47b04bad75525ea9b01ff095c70fa081}{00052}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_a47b04bad75525ea9b01ff095c70fa081}{LEAD\_OFFSET}}         = \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}} -\/ (0x10000 >> 10);}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00053}\mbox{\hyperlink{namespaceutf8_1_1internal_a31ff17e602e8e7e15db5ebfb5e93a3fb}{00053}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_a31ff17e602e8e7e15db5ebfb5e93a3fb}{SURROGATE\_OFFSET}}    = 0x10000u -\/ (\mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}} << 10) -\/ \mbox{\hyperlink{namespaceutf8_1_1internal_a836088cf3e5e29ac9a89b2ffbd91623e}{TRAIL\_SURROGATE\_MIN}};}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055     \textcolor{comment}{// Maximum valid value for a Unicode code point}}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00056}\mbox{\hyperlink{namespaceutf8_1_1internal_a0a30055cabb6e5cefb5dafc8812cb123}{00056}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_a0a30055cabb6e5cefb5dafc8812cb123}{CODE\_POINT\_MAX}}      = 0x0010ffffu;}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058     \textcolor{keyword}{template}<\textcolor{keyword}{typename} octet\_type>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00059}\mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{00059}}     \textcolor{keyword}{inline} \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_adf6e0469e279b9562aa461b4c3c1e7e4}{mask8}}(octet\_type oc)}
\DoxyCodeLine{00060     \{}
\DoxyCodeLine{00061         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast}<\mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}}>(0xff \& oc);}
\DoxyCodeLine{00062     \}}
\DoxyCodeLine{00063     \textcolor{keyword}{template}<\textcolor{keyword}{typename} u16\_type>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00064}\mbox{\hyperlink{namespaceutf8_1_1internal_ab1e3c2fe2296ac185993a183d1bd0678}{00064}}     \textcolor{keyword}{inline} \mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}} \mbox{\hyperlink{namespaceutf8_1_1internal_ab1e3c2fe2296ac185993a183d1bd0678}{mask16}}(u16\_type oc)}
\DoxyCodeLine{00065     \{}
\DoxyCodeLine{00066         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast}<\mbox{\hyperlink{namespaceutf8_ac23066b92c5a1d9d9ef177201f750936}{uint16\_t}}>(0xffff \& oc);}
\DoxyCodeLine{00067     \}}
\DoxyCodeLine{00068     \textcolor{keyword}{template}<\textcolor{keyword}{typename} octet\_type>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00069}\mbox{\hyperlink{namespaceutf8_1_1internal_ab4820484159ba613b4901476ceb24516}{00069}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_1_1internal_ab4820484159ba613b4901476ceb24516}{is\_trail}}(octet\_type oc)}
\DoxyCodeLine{00070     \{}
\DoxyCodeLine{00071         \textcolor{keywordflow}{return} ((\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(oc) >> 6) == 0x2);}
\DoxyCodeLine{00072     \}}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074     \textcolor{keyword}{template} <\textcolor{keyword}{typename} u16>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00075}\mbox{\hyperlink{namespaceutf8_1_1internal_a1a4095fb207096e04f94f21eb23d2723}{00075}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_1_1internal_a1a4095fb207096e04f94f21eb23d2723}{is\_lead\_surrogate}}(u16 cp)}
\DoxyCodeLine{00076     \{}
\DoxyCodeLine{00077         \textcolor{keywordflow}{return} (cp >= \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}} \&\& cp <= \mbox{\hyperlink{namespaceutf8_1_1internal_af6038b4ebd9b71391eba050cc29720b8}{LEAD\_SURROGATE\_MAX}});}
\DoxyCodeLine{00078     \}}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080     \textcolor{keyword}{template} <\textcolor{keyword}{typename} u16>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00081}\mbox{\hyperlink{namespaceutf8_1_1internal_a295b2873fce985213937e5f1193fcb13}{00081}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_1_1internal_a295b2873fce985213937e5f1193fcb13}{is\_trail\_surrogate}}(u16 cp)}
\DoxyCodeLine{00082     \{}
\DoxyCodeLine{00083         \textcolor{keywordflow}{return} (cp >= \mbox{\hyperlink{namespaceutf8_1_1internal_a836088cf3e5e29ac9a89b2ffbd91623e}{TRAIL\_SURROGATE\_MIN}} \&\& cp <= \mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{TRAIL\_SURROGATE\_MAX}});}
\DoxyCodeLine{00084     \}}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086     \textcolor{keyword}{template} <\textcolor{keyword}{typename} u16>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00087}\mbox{\hyperlink{namespaceutf8_1_1internal_a31a185a6bc8b9bf454191a8a95a93595}{00087}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_1_1internal_a31a185a6bc8b9bf454191a8a95a93595}{is\_surrogate}}(u16 cp)}
\DoxyCodeLine{00088     \{}
\DoxyCodeLine{00089         \textcolor{keywordflow}{return} (cp >= \mbox{\hyperlink{namespaceutf8_1_1internal_aca9d84aa3b40e635b086c9ce843cc4a4}{LEAD\_SURROGATE\_MIN}} \&\& cp <= \mbox{\hyperlink{namespaceutf8_1_1internal_a37212482f99986fc6aeaa95a9079c972}{TRAIL\_SURROGATE\_MAX}});}
\DoxyCodeLine{00090     \}}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092     \textcolor{keyword}{template} <\textcolor{keyword}{typename} u32>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00093}\mbox{\hyperlink{namespaceutf8_1_1internal_a97b553137aaeda6e8ca6f8d46f78fd79}{00093}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_1_1internal_a97b553137aaeda6e8ca6f8d46f78fd79}{is\_code\_point\_valid}}(u32 cp)}
\DoxyCodeLine{00094     \{}
\DoxyCodeLine{00095         \textcolor{keywordflow}{return} (cp <= \mbox{\hyperlink{namespaceutf8_1_1internal_a0a30055cabb6e5cefb5dafc8812cb123}{CODE\_POINT\_MAX}} \&\& !\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::is\_surrogate(cp));}
\DoxyCodeLine{00096     \}}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{00099     \textcolor{keyword}{inline} \textcolor{keyword}{typename} std::iterator\_traits<octet\_iterator>::\mbox{\hyperlink{namespaceutf8_1_1internal_aadbe437cba7bfcc4df2638f633e9787c}{difference\_type}}}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00100}\mbox{\hyperlink{namespaceutf8_1_1internal_aadbe437cba7bfcc4df2638f633e9787c}{00100}}     \mbox{\hyperlink{namespaceutf8_1_1internal_aadbe437cba7bfcc4df2638f633e9787c}{sequence\_length}}(octet\_iterator lead\_it)}
\DoxyCodeLine{00101     \{}
\DoxyCodeLine{00102         \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}} lead = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*lead\_it);}
\DoxyCodeLine{00103         \textcolor{keywordflow}{if} (lead < 0x80)}
\DoxyCodeLine{00104             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00105         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((lead >> 5) == 0x6)}
\DoxyCodeLine{00106             \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{00107         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((lead >> 4) == 0xe)}
\DoxyCodeLine{00108             \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{00109         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((lead >> 3) == 0x1e)}
\DoxyCodeLine{00110             \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{00111         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00112             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00113     \}}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_difference\_type>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00116}\mbox{\hyperlink{namespaceutf8_1_1internal_a3160f6f24dff465f64f83cb0e66995c6}{00116}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_1_1internal_a3160f6f24dff465f64f83cb0e66995c6}{is\_overlong\_sequence}}(\mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}} cp, octet\_difference\_type length)}
\DoxyCodeLine{00117     \{}
\DoxyCodeLine{00118         \textcolor{keywordflow}{if} (cp < 0x80) \{}
\DoxyCodeLine{00119             \textcolor{keywordflow}{if} (length != 1)}
\DoxyCodeLine{00120                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00121         \}}
\DoxyCodeLine{00122         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cp < 0x800) \{}
\DoxyCodeLine{00123             \textcolor{keywordflow}{if} (length != 2)}
\DoxyCodeLine{00124                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00125         \}}
\DoxyCodeLine{00126         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cp < 0x10000) \{}
\DoxyCodeLine{00127             \textcolor{keywordflow}{if} (length != 3)}
\DoxyCodeLine{00128                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00129         \}}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00132     \}}
\DoxyCodeLine{00133 }
\DoxyCodeLine{\Hypertarget{core_8h_source_l00134}\mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{00134}}     \textcolor{keyword}{enum} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \{\mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}}, \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}}, \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca316f29394dbc76011590cfe20e8ebc21}{INVALID\_LEAD}}, \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca0a7c549a77d50c327e177fafc3a8f537}{INCOMPLETE\_SEQUENCE}}, \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca74987a94eef8d6936f8d6475e6605373}{OVERLONG\_SEQUENCE}}, \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca8591209ee2d80f2d3728ffb82928c3fa}{INVALID\_CODE\_POINT}}\};}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136     \textcolor{comment}{/// Helper for get\_sequence\_x}}
\DoxyCodeLine{00137     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00138}\mbox{\hyperlink{namespaceutf8_1_1internal_a369641e705a3d7c91eb160868a6705f7}{00138}}     \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_a369641e705a3d7c91eb160868a6705f7}{increase\_safely}}(octet\_iterator\& it, octet\_iterator end)}
\DoxyCodeLine{00139     \{}
\DoxyCodeLine{00140         \textcolor{keywordflow}{if} (++it == end)}
\DoxyCodeLine{00141             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00142 }
\DoxyCodeLine{00143         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::is\_trail(*it))}
\DoxyCodeLine{00144             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca0a7c549a77d50c327e177fafc3a8f537}{INCOMPLETE\_SEQUENCE}};}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00146         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00147     \}}
\DoxyCodeLine{00148 }
\DoxyCodeLine{\Hypertarget{core_8h_source_l00149}\mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{00149}}     \textcolor{preprocessor}{\#}\textcolor{preprocessor}{define} \textcolor{preprocessor}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}\textcolor{preprocessor}{(}\textcolor{preprocessor}{IT}\textcolor{preprocessor}{,} \textcolor{preprocessor}{END}\textcolor{preprocessor}{)} \textcolor{preprocessor}{\{}\textcolor{preprocessor}{utf\_error} \textcolor{preprocessor}{ret} \textcolor{preprocessor}{=} \textcolor{preprocessor}{increase\_safely}\textcolor{preprocessor}{(}\textcolor{preprocessor}{IT}\textcolor{preprocessor}{,} \textcolor{preprocessor}{END}\textcolor{preprocessor}{)}\textcolor{preprocessor}{;} \textcolor{keywordflow}{if} \textcolor{preprocessor}{(}\textcolor{preprocessor}{ret} \textcolor{preprocessor}{!=} \textcolor{preprocessor}{UTF8\_OK}\textcolor{preprocessor}{)} \textcolor{keywordflow}{return} \textcolor{preprocessor}{ret}\textcolor{preprocessor}{;}\textcolor{preprocessor}{\}}}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151     \textcolor{comment}{/// get\_sequence\_x functions decode utf-\/8 sequences of the length x}}
\DoxyCodeLine{00152     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00153}\mbox{\hyperlink{namespaceutf8_1_1internal_a6e5df73716136aec55e8fcf3309038b6}{00153}}     \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_a6e5df73716136aec55e8fcf3309038b6}{get\_sequence\_1}}(octet\_iterator\& it, octet\_iterator end, \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\& code\_point)}
\DoxyCodeLine{00154     \{}
\DoxyCodeLine{00155         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{00156             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158         code\_point = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it);}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00161     \}}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00164}\mbox{\hyperlink{namespaceutf8_1_1internal_a9d641b9546be985f9f0fd4955ac42a24}{00164}}     \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_a9d641b9546be985f9f0fd4955ac42a24}{get\_sequence\_2}}(octet\_iterator\& it, octet\_iterator end, \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\& code\_point)}
\DoxyCodeLine{00165     \{}
\DoxyCodeLine{00166         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{00167             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00168 }
\DoxyCodeLine{00169         code\_point = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it);}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171         \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it, end)}
\DoxyCodeLine{00172 }
\DoxyCodeLine{00173         code\_point = ((code\_point << 6) \& 0x7ff) + ((*it) \& 0x3f);}
\DoxyCodeLine{00174 }
\DoxyCodeLine{00175         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00176     \}}
\DoxyCodeLine{00177 }
\DoxyCodeLine{00178     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00179}\mbox{\hyperlink{namespaceutf8_1_1internal_ac1809a1fb3fa6983d64a0d3a39646008}{00179}}     \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_ac1809a1fb3fa6983d64a0d3a39646008}{get\_sequence\_3}}(octet\_iterator\& it, octet\_iterator end, \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\& code\_point)}
\DoxyCodeLine{00180     \{}
\DoxyCodeLine{00181         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{00182             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184         code\_point = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it);}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00186         \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it, end)}
\DoxyCodeLine{00187 }
\DoxyCodeLine{00188         code\_point = ((code\_point << 12) \& 0xffff) + ((\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it) << 6) \& 0xfff);}
\DoxyCodeLine{00189 }
\DoxyCodeLine{00190         \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it, end)}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192         code\_point += (*it) \& 0x3f;}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00195     \}}
\DoxyCodeLine{00196 }
\DoxyCodeLine{00197     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00198}\mbox{\hyperlink{namespaceutf8_1_1internal_ad1958e7c6746ba6b1fbb0d81b88b346c}{00198}}     \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_ad1958e7c6746ba6b1fbb0d81b88b346c}{get\_sequence\_4}}(octet\_iterator\& it, octet\_iterator end, \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\& code\_point)}
\DoxyCodeLine{00199     \{}
\DoxyCodeLine{00200         \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{00201            \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca86ebad67eed937cd0edbd5a9e5867476}{NOT\_ENOUGH\_ROOM}};}
\DoxyCodeLine{00202 }
\DoxyCodeLine{00203         code\_point = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it);}
\DoxyCodeLine{00204 }
\DoxyCodeLine{00205         \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it, end)}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207         code\_point = ((code\_point << 18) \& 0x1fffff) + ((\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it) << 12) \& 0x3ffff);}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209         \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it, end)}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211         code\_point += (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it) << 6) \& 0xfff;}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213         \mbox{\hyperlink{core_8h_aabde294c732cbacefd7c3ad1c0bd3f8b}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}(it, end)}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215         code\_point += (*it) \& 0x3f;}
\DoxyCodeLine{00216 }
\DoxyCodeLine{00217         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00218     \}}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220     \textcolor{preprocessor}{\#}\textcolor{preprocessor}{undef} \textcolor{preprocessor}{UTF8\_CPP\_INCREASE\_AND\_RETURN\_ON\_ERROR}}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00223}\mbox{\hyperlink{namespaceutf8_1_1internal_abe95547575fcc81911e381df03f8ebfe}{00223}}     \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_abe95547575fcc81911e381df03f8ebfe}{validate\_next}}(octet\_iterator\& it, octet\_iterator end, \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}}\& code\_point)}
\DoxyCodeLine{00224     \{}
\DoxyCodeLine{00225         \textcolor{comment}{// Save the original value of it so we can go back in case of failure}}
\DoxyCodeLine{00226         \textcolor{comment}{// Of course, it does not make much sense with i.e. stream iterators}}
\DoxyCodeLine{00227         octet\_iterator original\_it = it;}
\DoxyCodeLine{00228 }
\DoxyCodeLine{00229         \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}} cp = 0;}
\DoxyCodeLine{00230         \textcolor{comment}{// Determine the sequence length based on the lead octet}}
\DoxyCodeLine{00231         \textcolor{keyword}{typedef} \textcolor{keyword}{typename} std::iterator\_traits<octet\_iterator>::difference\_type octet\_difference\_type;}
\DoxyCodeLine{00232         \textcolor{keyword}{const} octet\_difference\_type length = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::sequence\_length(it);}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234         \textcolor{comment}{// Get trail octets and calculate the code point}}
\DoxyCodeLine{00235         \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} err = \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00236         \textcolor{keywordflow}{switch} (length) \{}
\DoxyCodeLine{00237             \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{00238                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca316f29394dbc76011590cfe20e8ebc21}{INVALID\_LEAD}};}
\DoxyCodeLine{00239             \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{00240                 err = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::get\_sequence\_1(it, end, cp);}
\DoxyCodeLine{00241                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{00242             \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{00243                 err = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::get\_sequence\_2(it, end, cp);}
\DoxyCodeLine{00244             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00245             \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{00246                 err = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::get\_sequence\_3(it, end, cp);}
\DoxyCodeLine{00247             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00248             \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{00249                 err = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::get\_sequence\_4(it, end, cp);}
\DoxyCodeLine{00250             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00251         \}}
\DoxyCodeLine{00252 }
\DoxyCodeLine{00253         \textcolor{keywordflow}{if} (err == \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}}) \{}
\DoxyCodeLine{00254             \textcolor{comment}{// Decoding succeeded. Now, security checks...}}
\DoxyCodeLine{00255             \textcolor{keywordflow}{if} (utf8::internal::is\_code\_point\_valid(cp)) \{}
\DoxyCodeLine{00256                 \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::is\_overlong\_sequence(cp, length))\{}
\DoxyCodeLine{00257                     \textcolor{comment}{// Passed! Return here.}}
\DoxyCodeLine{00258                     code\_point = cp;}
\DoxyCodeLine{00259                     ++it;}
\DoxyCodeLine{00260                     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}};}
\DoxyCodeLine{00261                 \}}
\DoxyCodeLine{00262                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00263                     err = \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca74987a94eef8d6936f8d6475e6605373}{OVERLONG\_SEQUENCE}};}
\DoxyCodeLine{00264             \}}
\DoxyCodeLine{00265             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00266                 err = \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392ca8591209ee2d80f2d3728ffb82928c3fa}{INVALID\_CODE\_POINT}};}
\DoxyCodeLine{00267         \}}
\DoxyCodeLine{00268 }
\DoxyCodeLine{00269         \textcolor{comment}{// Failure branch -\/ restore the original value of the iterator}}
\DoxyCodeLine{00270         it = original\_it;}
\DoxyCodeLine{00271         \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00272     \}}
\DoxyCodeLine{00273 }
\DoxyCodeLine{00274     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00275}\mbox{\hyperlink{namespaceutf8_1_1internal_afd41668f94ce9f60f8e314d05804cecc}{00275}}     \textcolor{keyword}{inline} \mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} \mbox{\hyperlink{namespaceutf8_1_1internal_afd41668f94ce9f60f8e314d05804cecc}{validate\_next}}(octet\_iterator\& it, octet\_iterator end) \{}
\DoxyCodeLine{00276         \mbox{\hyperlink{namespaceutf8_a846259d2f173d524282583fc9d825b00}{uint32\_t}} ignored;}
\DoxyCodeLine{00277         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::validate\_next(it, end, ignored);}
\DoxyCodeLine{00278     \}}
\DoxyCodeLine{00279 }
\DoxyCodeLine{00280 \} \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{00281 }
\DoxyCodeLine{00282     \textcolor{comment}{/// The library API -\/ functions intended to be called by the users}}
\DoxyCodeLine{00283 }
\DoxyCodeLine{00284     \textcolor{comment}{// Byte order mark}}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00285}\mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{00285}}     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceutf8_abe793b552fabe390d134b97ab81d2c7f}{uint8\_t}} \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[] = \{0xef, 0xbb, 0xbf\};}
\DoxyCodeLine{00286 }
\DoxyCodeLine{00287     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00288}\mbox{\hyperlink{namespaceutf8_ae29721faca762865e83ffea06605acc5}{00288}}     octet\_iterator \mbox{\hyperlink{namespaceutf8_ae29721faca762865e83ffea06605acc5}{find\_invalid}}(octet\_iterator start, octet\_iterator end)}
\DoxyCodeLine{00289     \{}
\DoxyCodeLine{00290         octet\_iterator result = start;}
\DoxyCodeLine{00291         \textcolor{keywordflow}{while} (result != end) \{}
\DoxyCodeLine{00292             \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::\mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392c}{utf\_error}} err\_code = \mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::validate\_next(result, end);}
\DoxyCodeLine{00293             \textcolor{keywordflow}{if} (err\_code != \mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}\mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{::}}\mbox{\hyperlink{namespaceutf8_1_1internal_a9e96c2bc98b37e336b787a281090392cac4d854b29be6992e66c957cf4b957cca}{UTF8\_OK}})}
\DoxyCodeLine{00294                 \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00295         \}}
\DoxyCodeLine{00296         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00297     \}}
\DoxyCodeLine{00298 }
\DoxyCodeLine{00299     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00300}\mbox{\hyperlink{namespaceutf8_add2dbec3d058aa66500ec4f97cc8174b}{00300}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_add2dbec3d058aa66500ec4f97cc8174b}{is\_valid}}(octet\_iterator start, octet\_iterator end)}
\DoxyCodeLine{00301     \{}
\DoxyCodeLine{00302         \textcolor{keywordflow}{return} (\mbox{\hyperlink{namespaceutf8}{utf8}}::find\_invalid(start, end) == end);}
\DoxyCodeLine{00303     \}}
\DoxyCodeLine{00304 }
\DoxyCodeLine{00305     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00306}\mbox{\hyperlink{namespaceutf8_a498c8e7d7a6fd92d4672ef05661dc783}{00306}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_a498c8e7d7a6fd92d4672ef05661dc783}{starts\_with\_bom}} (octet\_iterator it, octet\_iterator end)}
\DoxyCodeLine{00307     \{}
\DoxyCodeLine{00308         \textcolor{keywordflow}{return} (}
\DoxyCodeLine{00309             ((it != end) \&\& (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it++)) == \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[0]) \&\&}
\DoxyCodeLine{00310             ((it != end) \&\& (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it++)) == \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[1]) \&\&}
\DoxyCodeLine{00311             ((it != end) \&\& (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it))   == \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[2])}
\DoxyCodeLine{00312            );}
\DoxyCodeLine{00313     \}}
\DoxyCodeLine{00314 }
\DoxyCodeLine{00315     \textcolor{comment}{//Deprecated in release 2.3 }}
\DoxyCodeLine{00316     \textcolor{keyword}{template} <\textcolor{keyword}{typename} octet\_iterator>}
\DoxyCodeLine{\Hypertarget{core_8h_source_l00317}\mbox{\hyperlink{namespaceutf8_aed9555bcddc0fd46296bf4e5642229ed}{00317}}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceutf8_aed9555bcddc0fd46296bf4e5642229ed}{is\_bom}} (octet\_iterator it)}
\DoxyCodeLine{00318     \{}
\DoxyCodeLine{00319         \textcolor{keywordflow}{return} (}
\DoxyCodeLine{00320             (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it++)) == \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[0] \&\&}
\DoxyCodeLine{00321             (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it++)) == \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[1] \&\&}
\DoxyCodeLine{00322             (\mbox{\hyperlink{namespaceutf8}{utf8}}::\mbox{\hyperlink{namespaceutf8_1_1internal}{internal}}::mask8(*it))   == \mbox{\hyperlink{namespaceutf8_ac7efcab62f51d362fc741657e60b9b1d}{bom}}[2]}
\DoxyCodeLine{00323            );}
\DoxyCodeLine{00324     \}}
\DoxyCodeLine{00325 \} \textcolor{comment}{// namespace utf8}}
\DoxyCodeLine{00326 }
\DoxyCodeLine{00327 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{endif} \textcolor{comment}{// header guard}}

\end{DoxyCode}
