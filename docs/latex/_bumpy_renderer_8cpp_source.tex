\hypertarget{_bumpy_renderer_8cpp_source}{}\doxysection{Bumpy\+Renderer.\+cpp}
\label{_bumpy_renderer_8cpp_source}\index{Source/BumpyRenderer.cpp@{Source/BumpyRenderer.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_bumpy_renderer_8hpp}{"BumpyRenderer.hpp"}}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_g_l_context_manager_8hpp}{"GLContextManager.hpp"}}}
\DoxyCodeLine{00004 }
\DoxyCodeLine{00005 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}} \{}
\DoxyCodeLine{00006 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00007}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{00007}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph}{BumpyGlyph}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{BumpyGlyph}}(glm::vec4\& destRect, glm::vec4\& uvRect, GLuint\& Texture, GLuint\& Bumpmap, \textcolor{keywordtype}{float}\& Depth, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour}{Colour}}\& colour, \textcolor{keywordtype}{float}\& angle, glm::vec2\& COR)}
\DoxyCodeLine{00008         : \mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph}{Glyph}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{(}}destRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{,}} uvRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{,}} Texture\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{,}} Depth\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{,}} colour\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{,}} angle\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{,}} COR\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a6f185a8114aa0e31269e28b06fe38d14}{)}}, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{bumpmap}}(Bumpmap) \{}
\DoxyCodeLine{00009 }
\DoxyCodeLine{00010     \}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00012}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a87e27c42fb9f184113799f7711a79961}{00012}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a87e27c42fb9f184113799f7711a79961}{BumpyRenderer}}(std::string\& fragShader, std::string\& vertShader, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} perspectiveWidth, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} perspectiveHeight)}
\DoxyCodeLine{00013         : \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer}{BasicRenderer}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_aad096d241734d1b4e1ea1a2a777ba1a8}{(}}fragShader\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_aad096d241734d1b4e1ea1a2a777ba1a8}{,}} vertShader\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_aad096d241734d1b4e1ea1a2a777ba1a8}{,}} perspectiveWidth\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_aad096d241734d1b4e1ea1a2a777ba1a8}{,}} perspectiveHeight\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_aad096d241734d1b4e1ea1a2a777ba1a8}{)}} \{}
\DoxyCodeLine{00014     \}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00016}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a3ac0dc2f5f0a67903b28f2a34070aa3c}{00016}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\string~\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a3ac0dc2f5f0a67903b28f2a34070aa3c}{BumpyRenderer}}() \{}
\DoxyCodeLine{00017     \}}
\DoxyCodeLine{00018 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00019}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a6700a581c23f6874f4547ea80d4f4535}{00019}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a6700a581c23f6874f4547ea80d4f4535}{initUniforms}}() \{}
\DoxyCodeLine{00020         GLint textureUniform = 0;}
\DoxyCodeLine{00021         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{setUniform}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{(}}\textcolor{stringliteral}{"textureSampler"}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{,}} \&textureUniform\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{)}};}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023         GLint bumpUniform = 1;}
\DoxyCodeLine{00024         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{setUniform}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{(}}\textcolor{stringliteral}{"bumpmapSampler"}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{,}} \&bumpUniform\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a70aa79c9886b261f8380985ca20a487d}{)}};}
\DoxyCodeLine{00025     \}}
\DoxyCodeLine{00026 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00027}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a33dd21c340b2ea4cdfda0c4306883275}{00027}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a33dd21c340b2ea4cdfda0c4306883275}{preRender}}() \{}
\DoxyCodeLine{00028         \textcolor{comment}{// We need to define a texture sampler for textures AND bumpmaps!}}
\DoxyCodeLine{00029         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a741e3e451e464391ae3c549ec34866db}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{update}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_aad8e6c5c18c85f5dc4d0ccd31d356d13}{)}};}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031         glm::mat4 projectionMatrix = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a741e3e451e464391ae3c549ec34866db}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9cefaaedae2a62e92590b9c8b4da35a7}{getCameraMatrix}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9cefaaedae2a62e92590b9c8b4da35a7}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a9cefaaedae2a62e92590b9c8b4da35a7}{)}};}
\DoxyCodeLine{00032         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{setUniformMatrix}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{<}}glm\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{::}}mat4\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{(}}\textcolor{stringliteral}{"projectionMatrix"}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{,}} GL\_FALSE\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{,}} \&projectionMatrix\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_adfa74453d9bc2f1100e5d19bb45a5512}{)}};}
\DoxyCodeLine{00033     \}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00035}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_adf8f29d89f859671a39cde7fb94cc7e7}{00035}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_adf8f29d89f859671a39cde7fb94cc7e7}{render}}() \{}
\DoxyCodeLine{00036         \textcolor{comment}{// Ensure that we're actually using the shader for the glDrawArrays call!}}
\DoxyCodeLine{00037         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{use}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a8687213986c6f5633887609e8169b24e}{)}};}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039         \textcolor{comment}{// Make sure we're in the regular rendering texture (arbitrarily set to texture0, just for consistency)}}
\DoxyCodeLine{00040         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}* glContext = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{::}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{)}};}
\DoxyCodeLine{00041         glContext\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE0\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043         \textcolor{comment}{// First we must bind the vertex array object and vertex buffer object}}
\DoxyCodeLine{00044         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{bind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a61c99f69bf5feb2ac95189381a48e638}{)}};}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a33dd21c340b2ea4cdfda0c4306883275}{preRender}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a33dd21c340b2ea4cdfda0c4306883275}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a33dd21c340b2ea4cdfda0c4306883275}{)}};}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048         \textcolor{comment}{// Create RenderBatches (uploading them to the bound texture, so that we can actually draw them next.}}
\DoxyCodeLine{00049         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a0a92a001f43456e84a72c579901311f7}{createRenderBatches}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a0a92a001f43456e84a72c579901311f7}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a0a92a001f43456e84a72c579901311f7}{)}};}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051         \textcolor{comment}{// Now we can render each renderbatch, uploading their texture data respectively.}}
\DoxyCodeLine{00052         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}.size(); i++) \{}
\DoxyCodeLine{00053             \textcolor{comment}{// Bind the texture information to the texture "slot"}}
\DoxyCodeLine{00054             \textcolor{comment}{// This method of binding the textures decreases speed slightly for completely random textures, but if we are rendering a lot of the same texture, this is similar (if not identical) to instance rendering.}}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056             glContext\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE1\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00057             glContext\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a34c6156003e155272b59ea39413ecda2}{m\_batchBumpmaps}}[i]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059             glContext\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}GL\_TEXTURE0\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00060             glContext\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}GL\_TEXTURE\_2D\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}[i]\mbox{\hyperlink{class_render_batch_af46637d6c7713d32bf3d89cb8cfcc7d3}{.}}\mbox{\hyperlink{class_render_batch_af46637d6c7713d32bf3d89cb8cfcc7d3}{textureID}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062             \textcolor{comment}{// Upload the data}}
\DoxyCodeLine{00063             glDrawArrays(GL\_TRIANGLES, (GLint)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}[i]\mbox{\hyperlink{class_render_batch_abcbeaacf6d5ca1f78c8a270c6975e827}{.}}\mbox{\hyperlink{class_render_batch_abcbeaacf6d5ca1f78c8a270c6975e827}{offset}}, (GLsizei)\mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}[i]\mbox{\hyperlink{class_render_batch_ac80bf0479536f10923a8bdb50598217a}{.}}\mbox{\hyperlink{class_render_batch_ac80bf0479536f10923a8bdb50598217a}{numVertices}});}
\DoxyCodeLine{00064         \}}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066         \textcolor{comment}{// Unbind for safety!}}
\DoxyCodeLine{00067         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{unbind}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a6c224737a43f43dbe7c9e25ecd47d1da}{)}};}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069         \textcolor{comment}{// Release the shader}}
\DoxyCodeLine{00070         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a6cca43c8d777b64314256241af1df295}{m\_shader}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{unuse}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_shader_program_a7847844b8a2e5ab0677340b47d180841}{)}};}
\DoxyCodeLine{00071     \}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00073}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a6480bb55821d44b19fcd964a21c7dc5d}{00073}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a6480bb55821d44b19fcd964a21c7dc5d}{draw}}(glm::vec4 destRect, glm::vec4 uvRect, GLuint texture, \textcolor{keywordtype}{float} depth, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour}{Colour}} colour\textcolor{comment}{/* = Colour(255, 255, 255, 255)*/}, \textcolor{keywordtype}{float} angle\textcolor{comment}{/* = 0.0f*/}, glm::vec2 COR\textcolor{comment}{/* = glm::vec2(0.5f)*/}) \{}
\DoxyCodeLine{00074         \mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{throwFatalError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{(}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15}{BAREError}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15abcb313a5c9f8965d7b75833af33d16be}{::}}\mbox{\hyperlink{namespace_b_a_r_e2_d_a598d6ee5637b8d61de038646a6674f15abcb313a5c9f8965d7b75833af33d16be}{UNINITIALIZED\_FUNCTION}}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{,}} \textcolor{stringliteral}{"BumpyRenderer drawing without bumpmap texture! Fix your program!"}\mbox{\hyperlink{namespace_b_a_r_e2_d_aed4332e42208fed2905a8b0845dad4d1}{)}};}
\DoxyCodeLine{00075     \}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00077}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a75f6fb8242a8b04fe90421ad0c0f442e}{00077}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a75f6fb8242a8b04fe90421ad0c0f442e}{draw}}(glm::vec4 destRect, glm::vec4 uvRect, GLuint texture, GLuint bumpmap, \textcolor{keywordtype}{float} depth, \mbox{\hyperlink{struct_b_a_r_e2_d_1_1_colour}{Colour}} colour\textcolor{comment}{/* = Colour(255, 255, 255, 255)*/}, \textcolor{keywordtype}{float} angle\textcolor{comment}{/* = 0.0f*/}, glm::vec2 COR\textcolor{comment}{/* = glm::vec2(0.5f)*/}) \{}
\DoxyCodeLine{00078         \textcolor{comment}{// Make sure it's actually in the scene.}}
\DoxyCodeLine{00079         \textcolor{keywordflow}{if}(!\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a741e3e451e464391ae3c549ec34866db}{m\_camera}}-\/>\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a040ee7936ee18e8654e258e4013b46dd}{isRectInViewspace}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a040ee7936ee18e8654e258e4013b46dd}{(}}destRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_camera2_d_a040ee7936ee18e8654e258e4013b46dd}{)}})}
\DoxyCodeLine{00080             \textcolor{keywordflow}{return};}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082         \textcolor{comment}{// Just add the glyph (as a bumpy glyph!)}}
\DoxyCodeLine{00083         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}.push\_back(\textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph}{BumpyGlyph}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{(}}destRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} uvRect\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} texture\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} bumpmap\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} depth\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} colour\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} angle\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{,}} COR\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_afe7eb427ad2e80ed7f5795a70affe529}{)}});}
\DoxyCodeLine{00084     \}}
\DoxyCodeLine{00085 }
\DoxyCodeLine{\Hypertarget{_bumpy_renderer_8cpp_source_l00086}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a0a92a001f43456e84a72c579901311f7}{00086}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer}{BumpyRenderer}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a0a92a001f43456e84a72c579901311f7}{createRenderBatches}}() \{}
\DoxyCodeLine{00087         \textcolor{comment}{// Create all the render batches (based on the draw()'n glyphs) for rendering}}
\DoxyCodeLine{00088         \textcolor{comment}{// THey're going to end up as vertices}}
\DoxyCodeLine{00089         std::vector<\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}> vertices;}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091         \textcolor{comment}{// We already know that the glyphs represent 6 vertices by design.}}
\DoxyCodeLine{00092         vertices.resize(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}.size() * 6);}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094         \textcolor{comment}{// Check if we even have anything to draw}}
\DoxyCodeLine{00095         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}.size() == 0) \{}
\DoxyCodeLine{00096             \textcolor{keywordflow}{return}; \textcolor{comment}{// Don't need to do much.}}
\DoxyCodeLine{00097         \}}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099         \textcolor{keywordtype}{int} offset = 0;}
\DoxyCodeLine{00100         \textcolor{keywordtype}{int} vertex = 0;}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102         \textcolor{comment}{// Make way for new bumpmaps.}}
\DoxyCodeLine{00103         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a34c6156003e155272b59ea39413ecda2}{m\_batchBumpmaps}}.clear();}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105         \textcolor{comment}{// 'Draw' two triangles from the 6 vertices.}}
\DoxyCodeLine{00106         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}.emplace\_back(offset, 6, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{texture}});}
\DoxyCodeLine{00107         vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{topLeft}};}
\DoxyCodeLine{00108         vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a5e7961252c16c09e88bee4943845b2e8}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a5e7961252c16c09e88bee4943845b2e8}{bottomLeft}};}
\DoxyCodeLine{00109         vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{bottomRight}};}
\DoxyCodeLine{00110         vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{bottomRight}};}
\DoxyCodeLine{00111         vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a56fcbbb338feba45291f14dbdd8c5468}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a56fcbbb338feba45291f14dbdd8c5468}{topRight}};}
\DoxyCodeLine{00112         vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{topLeft}};}
\DoxyCodeLine{00113         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a34c6156003e155272b59ea39413ecda2}{m\_batchBumpmaps}}.push\_back(\textcolor{keyword}{static\_cast}<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph}{BumpyGlyph}}*>(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[0])\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{bumpmap}});}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115         \textcolor{comment}{// Set the offset appropriately for 6 vertices of data.}}
\DoxyCodeLine{00116         offset += 6;}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118         \textcolor{comment}{// Add the rest of the glyphs}}
\DoxyCodeLine{00119         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} glyph = 1; glyph < \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}.size(); glyph++) \{}
\DoxyCodeLine{00120             \textcolor{comment}{// Check if this can just be part of the current batch (instancing essentially)}}
\DoxyCodeLine{00121             \textcolor{comment}{// They must have both the same texture AND the same bumpmap for this to work properly.}}
\DoxyCodeLine{00122             \textcolor{keywordflow}{if}((\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{texture}} != \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph -\/ 1]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{texture}}) || (\textcolor{keyword}{static\_cast}<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph}{BumpyGlyph}}*>(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph])\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{bumpmap}} != \textcolor{keyword}{static\_cast}<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph}{BumpyGlyph}}*>(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph -\/ 1])\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{bumpmap}})) \{}
\DoxyCodeLine{00123                 \textcolor{comment}{// It can't be part of the same batch, so create a new one}}
\DoxyCodeLine{00124                 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}.emplace\_back(offset, 6, \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a388878cd1c1726240f23ef913ad53635}{texture}});}
\DoxyCodeLine{00125                 \textcolor{comment}{// Add the corresponding bumpmap to the batch bumpmaps vector.}}
\DoxyCodeLine{00126                 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_renderer_a34c6156003e155272b59ea39413ecda2}{m\_batchBumpmaps}}.push\_back(\textcolor{keyword}{static\_cast}<\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph}{BumpyGlyph}}*>(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph])\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_bumpy_glyph_a3f4fd927de2b4a77d5ed920c69f687fd}{bumpmap}});}
\DoxyCodeLine{00127             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00128                 \textcolor{comment}{// If its part of the current batch, just increase numVertices. It'll reuse the texture, but nothing more.}}
\DoxyCodeLine{00129                 \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_a4a5d71addd82c34de80ab86704a4f847}{m\_batches}}.back()\mbox{\hyperlink{class_render_batch_ac80bf0479536f10923a8bdb50598217a}{.}}\mbox{\hyperlink{class_render_batch_ac80bf0479536f10923a8bdb50598217a}{numVertices}} += 6;}
\DoxyCodeLine{00130             \}}
\DoxyCodeLine{00131             \textcolor{comment}{// 'Draw' two triangles.}}
\DoxyCodeLine{00132             vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{topLeft}};}
\DoxyCodeLine{00133             vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a5e7961252c16c09e88bee4943845b2e8}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a5e7961252c16c09e88bee4943845b2e8}{bottomLeft}};}
\DoxyCodeLine{00134             vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{bottomRight}};}
\DoxyCodeLine{00135             vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a7eb374c9033171c455be7e13e135943e}{bottomRight}};}
\DoxyCodeLine{00136             vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a56fcbbb338feba45291f14dbdd8c5468}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a56fcbbb338feba45291f14dbdd8c5468}{topRight}};}
\DoxyCodeLine{00137             vertices[vertex++] = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}[glyph]\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{-\/>}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_glyph_a86de27460d73ab28f95ac60fe1535e09}{topLeft}};}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139             \textcolor{comment}{// Push data offset forward 6 vertices.}}
\DoxyCodeLine{00140             offset += 6;}
\DoxyCodeLine{00141         \}}
\DoxyCodeLine{00142 }
\DoxyCodeLine{00143         \textcolor{comment}{// Done with the glyphs, we can clear em}}
\DoxyCodeLine{00144         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_basic_renderer_a6e87400292d586ff1a8d4634856161db}{m\_glyphs}}.clear();}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00146         \textcolor{comment}{// Now that render batches are created, we can upload the information to OpenGL}}
\DoxyCodeLine{00147 }
\DoxyCodeLine{00148         \textcolor{comment}{// Bind the VBO}}
\DoxyCodeLine{00149         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{bindVBO}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_aaaec16d98be94aa5cfed015df40dda70}{)}};}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151         \textcolor{comment}{// Orphan the buffer}}
\DoxyCodeLine{00152         glBufferData(GL\_ARRAY\_BUFFER, vertices.size() * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}), \textcolor{keywordtype}{nullptr}, GL\_DYNAMIC\_DRAW);}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154         \textcolor{comment}{// Actually upload the data to the buffer.}}
\DoxyCodeLine{00155         glBufferSubData(GL\_ARRAY\_BUFFER, 0, vertices.size() * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_b_a_r_e2_d_1_1_vertex}{Vertex}}), vertices.data());}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157         \textcolor{comment}{// Unbind the VBO again for safety}}
\DoxyCodeLine{00158         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_renderer_ad9672b3d262d65d40589a6cfec480e4c}{m\_vertexArrayObject}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{.}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{unbindVBO}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_v_a_o_a10dd3e06e3929147edb6b249c94fdcee}{)}};}
\DoxyCodeLine{00159     \}}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161 \}}

\end{DoxyCode}
