\hypertarget{_g_l_context_manager_8cpp_source}{}\doxysection{G\+L\+Context\+Manager.\+cpp}
\label{_g_l_context_manager_8cpp_source}\index{Source/GLContextManager.cpp@{Source/GLContextManager.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include} \mbox{\hyperlink{_g_l_context_manager_8hpp}{"GLContextManager.hpp"}}}
\DoxyCodeLine{00002 }
\DoxyCodeLine{00003 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}} \{}
\DoxyCodeLine{00004 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00005}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a62f46a348cc1f4e91fe3ab48c9a5cc1b}{00005}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a62f46a348cc1f4e91fe3ab48c9a5cc1b}{GLContext}}() \{}
\DoxyCodeLine{00006         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a8c53ce3d7e76c5de991c4e4488f86647}{m\_boundTextureIDs}} = \textcolor{keyword}{new} GLuint[GL\_MAX\_COMBINED\_TEXTURE\_IMAGE\_UNITS]\{GL\_TEXTURE\_2D\};}
\DoxyCodeLine{00007     \}}
\DoxyCodeLine{00008 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00009}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a39a7d299b1c77ea64d9f84d249daaa7e}{00009}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}::\string~\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a39a7d299b1c77ea64d9f84d249daaa7e}{GLContext}}() \{}
\DoxyCodeLine{00010         \textcolor{keyword}{delete}[] \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a8c53ce3d7e76c5de991c4e4488f86647}{m\_boundTextureIDs}};}
\DoxyCodeLine{00011     \}}
\DoxyCodeLine{00012 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00013}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{00013}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}(GLenum texture)}
\DoxyCodeLine{00014     \{}
\DoxyCodeLine{00015         \textcolor{comment}{// If we already have the same texture active, why bother OpenGL?}}
\DoxyCodeLine{00016         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a67008edb65b567eddf3b3235495237e0}{m\_activeTexture}} != texture) \{}
\DoxyCodeLine{00017             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a67008edb65b567eddf3b3235495237e0}{m\_activeTexture}} = texture;}
\DoxyCodeLine{00018             glActiveTexture(texture);}
\DoxyCodeLine{00019         \}}
\DoxyCodeLine{00020     \}}
\DoxyCodeLine{00021 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00022}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{00022}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}(GLenum target, GLenum texture)}
\DoxyCodeLine{00023     \{}
\DoxyCodeLine{00024         \textcolor{comment}{// Make sure that the active texture's slot doesn't already have `texture` active}}
\DoxyCodeLine{00025         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} index = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a67008edb65b567eddf3b3235495237e0}{m\_activeTexture}} -\/ GL\_TEXTURE0);}
\DoxyCodeLine{00026         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a8c53ce3d7e76c5de991c4e4488f86647}{m\_boundTextureIDs}}[index] != texture) \{}
\DoxyCodeLine{00027             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a8c53ce3d7e76c5de991c4e4488f86647}{m\_boundTextureIDs}}[index] = texture;}
\DoxyCodeLine{00028             glBindTexture(target, texture);}
\DoxyCodeLine{00029         \}}
\DoxyCodeLine{00030     \}}
\DoxyCodeLine{00031 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00032}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{00032}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a99f228aa049e960dace1970e09b24246}{unbindTexture}}(GLenum target, GLenum textureslot) \{}
\DoxyCodeLine{00033         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{setActiveTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{(}}textureslot\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a529bb80b0bd7bbf86f10be7c30be514c}{)}};}
\DoxyCodeLine{00034         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{bindTexture}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{(}}target\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{,}} 0\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a1815cdbe70cc6fdbc66ec69a7131b5be}{)}};}
\DoxyCodeLine{00035     \}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00037}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_acfa0e3577e1f5eedc2fee994ed6bfb35}{00037}}     GLuint \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_acfa0e3577e1f5eedc2fee994ed6bfb35}{getBoundTexture}}() \{}
\DoxyCodeLine{00038         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} index = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a67008edb65b567eddf3b3235495237e0}{m\_activeTexture}} -\/ GL\_TEXTURE0);}
\DoxyCodeLine{00039         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a8c53ce3d7e76c5de991c4e4488f86647}{m\_boundTextureIDs}}[index];}
\DoxyCodeLine{00040     \}}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a0f1ac013e59c4e43b33d212305b43b2e}{m\_context}} = \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00043 }
\DoxyCodeLine{\Hypertarget{_g_l_context_manager_8cpp_source_l00044}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{00044}}     \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager}{GLContextManager}}::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a733646522bf07c33576f9a1e0bb76c28}{getContext}}()}
\DoxyCodeLine{00045     \{}
\DoxyCodeLine{00046         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a0f1ac013e59c4e43b33d212305b43b2e}{m\_context}}) \{}
\DoxyCodeLine{00047             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a0f1ac013e59c4e43b33d212305b43b2e}{m\_context}};}
\DoxyCodeLine{00048         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00049             \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a0f1ac013e59c4e43b33d212305b43b2e}{m\_context}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context}{GLContext}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a62f46a348cc1f4e91fe3ab48c9a5cc1b}{(}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_a62f46a348cc1f4e91fe3ab48c9a5cc1b}{)}};}
\DoxyCodeLine{00050             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_g_l_context_manager_a0f1ac013e59c4e43b33d212305b43b2e}{m\_context}};}
\DoxyCodeLine{00051         \}}
\DoxyCodeLine{00052     \}}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054 \}}

\end{DoxyCode}
