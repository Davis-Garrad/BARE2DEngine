\hypertarget{_cache__impl_8tcc_source}{}\doxysection{Cache\+\_\+impl.\+tcc}
\label{_cache__impl_8tcc_source}\index{Source/Cache\_impl.tcc@{Source/Cache\_impl.tcc}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma} \textcolor{preprocessor}{once}}
\DoxyCodeLine{00002 \textcolor{comment}{// This holds all the non-\/specialized templates for Cache.hpp}}
\DoxyCodeLine{00003 }
\DoxyCodeLine{00004 \textcolor{keyword}{namespace} \mbox{\hyperlink{namespace_b_a_r_e2_d}{BARE2D}} \{}
\DoxyCodeLine{00005 }
\DoxyCodeLine{00006     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00007}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{00007}}     T* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{findItem}}(S\& key) \{}
\DoxyCodeLine{00008         \textcolor{comment}{// Check if we have the item in the m\_data map}}
\DoxyCodeLine{00009 }
\DoxyCodeLine{00010         \textcolor{keyword}{auto} iter = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.find(key);}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012         \textcolor{keywordflow}{if}(iter == \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.end()) \{}
\DoxyCodeLine{00013             \textcolor{keywordflow}{return} \textcolor{keywordtype}{nullptr};}
\DoxyCodeLine{00014         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00015             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}[key];}
\DoxyCodeLine{00016         \}}
\DoxyCodeLine{00017     \}}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00020}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a2104c4e21130200025f41c7339168726}{00020}}     T* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a2104c4e21130200025f41c7339168726}{operator}}[](S\& key) \{}
\DoxyCodeLine{00021         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{findItem}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{(}}key\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{)}};}
\DoxyCodeLine{00022     \}}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00025}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{00025}}     T* \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a4a998f5952f2412d5f35f5291f8ff0c8}{createItem}}(S\& key) \{}
\DoxyCodeLine{00026         \textcolor{comment}{// Creates an item, or overwrites the existing item if it already exists.}}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028         \textcolor{comment}{// Check if it already exists}}
\DoxyCodeLine{00029         T* object = \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{findItem}}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{(}}key\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a9b565e37194850c038b5bb3c3a784567}{)}};}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031         \textcolor{comment}{// nullptr if object doesn't already exist}}
\DoxyCodeLine{00032         \textcolor{keywordflow}{if}(object) \{}
\DoxyCodeLine{00033             *object = (T());}
\DoxyCodeLine{00034             \textcolor{keywordflow}{return} object;}
\DoxyCodeLine{00035         \}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{comment}{// Now we know the object doesn't exist, so we need to create one!}}
\DoxyCodeLine{00038         object = \textcolor{keyword}{new} T();}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.insert(std::make\_pair(key, object));}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042         \textcolor{keywordflow}{return} object;}
\DoxyCodeLine{00043     \}}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00046}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{00046}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a236da756530af9b46a3000637c5c5f53}{clear}}() \{}
\DoxyCodeLine{00047         \textcolor{comment}{// Deletes all in m\_data, then clears m\_data.}}
\DoxyCodeLine{00048         \textcolor{comment}{// Delete em all}}
\DoxyCodeLine{00049         \textcolor{keywordflow}{for}(std::pair<S, T*> i : \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}) \{}
\DoxyCodeLine{00050             \textcolor{keyword}{delete} i.second;}
\DoxyCodeLine{00051         \}}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053         \textcolor{comment}{// Clear it all}}
\DoxyCodeLine{00054         \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.clear();}
\DoxyCodeLine{00055     \}}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00058}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a10e71ebcdf2c43daa1c2d3a6e576d465}{00058}}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a10e71ebcdf2c43daa1c2d3a6e576d465}{getCount}}() \{}
\DoxyCodeLine{00059         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.size();}
\DoxyCodeLine{00060     \}}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00063}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a3964d9554d08b43fe0cc6a72571d36d5}{00063}}     \textcolor{keyword}{typename} std::unordered\_map<S, T*>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a3964d9554d08b43fe0cc6a72571d36d5}{iterator}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a3964d9554d08b43fe0cc6a72571d36d5}{begin}}() \{}
\DoxyCodeLine{00064         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.begin();}
\DoxyCodeLine{00065     \}}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00068}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a7d49e3b2cd0df86958d4355f3aa907e0}{00068}}     \textcolor{keyword}{typename} std::unordered\_map<S, T*>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a7d49e3b2cd0df86958d4355f3aa907e0}{iterator}} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_a7d49e3b2cd0df86958d4355f3aa907e0}{end}}() \{}
\DoxyCodeLine{00069         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}}.end();}
\DoxyCodeLine{00070     \}}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072     \textcolor{keyword}{template}<\textcolor{keyword}{typename} S, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{_cache__impl_8tcc_source_l00073}\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_afc93ab1bc2175106d70ead2a55c12134}{00073}}     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}<S, T>::\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_afc93ab1bc2175106d70ead2a55c12134}{operator}}!=(\mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache}{Cache}}\& other) \{}
\DoxyCodeLine{00074         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_b_a_r_e2_d_1_1_cache_add3822402604d86512c684deef926102}{m\_data}} != other.m\_data;}
\DoxyCodeLine{00075     \}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077 \}}

\end{DoxyCode}
